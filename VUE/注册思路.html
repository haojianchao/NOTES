<html>
<head>
  <title>注册思路</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/307027 (zh-CN, DDL); Windows/6.1.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="870"/>
<h1>注册思路</h1>

<div>
<span><div>创建一个组件：注册组件 </div><div><span>    （register/index.vue、script.js、style.scss,register/header）</span><br/></div><div>注册路由</div><div><span>    router/index.js</span><br/></div><div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">{</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;"><span>    </span>path</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">:</span> <span style="color: #008000; font-weight: bold; font-family: Monaco; font-size: 9pt;">'/register'</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">,</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;"><span>    </span>components</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">: {</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;"><span>   <span>    </span> </span>header</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">: RegisterHeader,</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;"><span>   <span>    </span> </span>content</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">: Register</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span>    </span>}</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">}</span></div></div>
构建前端注册流程</div><div><span>    写页面，确定需要的数据 index.vue----使用的是mint-ui的组件</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div style="font-family: Monaco; font-size: 9pt;"><span style="color: rgb(51, 51, 51); background-color: rgb(239, 239, 239); font-family: Monaco; font-size: 9pt;">&lt;</span><span style="color: rgb(0, 0, 128); background-color: rgb(239, 239, 239); font-weight: bold; font-family: Monaco; font-size: 9pt;">mt-field</span> <span style="color: rgb(0, 0, 255); background-color: rgb(239, 239, 239); font-weight: bold; font-family: Monaco; font-size: 9pt;">:state=</span><span style="color: rgb(0, 128, 0); background-color: rgb(239, 239, 239); font-weight: bold; font-family: Monaco; font-size: 9pt;">&quot;</span><span style="font-family: Monaco; font-size: 9pt;"><font color="#FF0000">phoneNumState</font></span><span style="color: rgb(0, 128, 0); background-color: rgb(239, 239, 239); font-weight: bold; font-family: Monaco; font-size: 9pt;">&quot;</span> <span style="color: rgb(0, 0, 255); background-color: rgb(239, 239, 239); font-weight: bold; font-family: Monaco; font-size: 9pt;">type=</span><span style="color: rgb(0, 128, 0); background-color: rgb(239, 239, 239); font-weight: bold; font-family: Monaco; font-size: 9pt;">&quot;number&quot;</span> <span style="color: rgb(0, 0, 255); background-color: rgb(239, 239, 239); font-weight: bold; font-family: Monaco; font-size: 9pt;">v-model=</span><span style="color: rgb(0, 128, 0); background-color: rgb(239, 239, 239); font-weight: bold; font-family: Monaco; font-size: 9pt;">&quot;</span><span style="font-family: Monaco; font-size: 9pt;"><font color="#BA00FF">phoneNum</font></span><span style="color: rgb(0, 128, 0); background-color: rgb(239, 239, 239); font-weight: bold; font-family: Monaco; font-size: 9pt;">&quot;</span> <span style="color: rgb(0, 0, 255); background-color: rgb(239, 239, 239); font-weight: bold; font-family: Monaco; font-size: 9pt;">placeholder=</span><span style="color: rgb(0, 128, 0); background-color: rgb(239, 239, 239); font-weight: bold; font-family: Monaco; font-size: 9pt;">&quot;请输入您的手机号&quot;</span><span style="color: rgb(51, 51, 51); background-color: rgb(239, 239, 239); font-family: Monaco; font-size: 9pt;">&gt;&lt;/</span><span style="color: rgb(0, 0, 128); background-color: rgb(239, 239, 239); font-weight: bold; font-family: Monaco; font-size: 9pt;">mt-field</span><span style="color: rgb(51, 51, 51); background-color: rgb(239, 239, 239); font-family: Monaco; font-size: 9pt;">&gt;</span></div><div style="font-family: Monaco; font-size: 9pt;"><span style="color: rgb(51, 51, 51); background-color: rgb(239, 239, 239); font-family: Monaco; font-size: 9pt;">&lt;</span><span style="color: rgb(0, 0, 128); background-color: rgb(239, 239, 239); font-weight: bold; font-family: Monaco; font-size: 9pt;">mt-field</span> <span style="color: rgb(0, 0, 255); background-color: rgb(239, 239, 239); font-weight: bold; font-family: Monaco; font-size: 9pt;">placeholder=</span><span style="color: rgb(0, 128, 0); background-color: rgb(239, 239, 239); font-weight: bold; font-family: Monaco; font-size: 9pt;">&quot;验证码&quot;</span> <span style="color: rgb(0, 0, 255); background-color: rgb(239, 239, 239); font-weight: bold; font-family: Monaco; font-size: 9pt;">type=</span><span style="color: rgb(0, 128, 0); background-color: rgb(239, 239, 239); font-weight: bold; font-family: Monaco; font-size: 9pt;">&quot;number&quot;</span> <span style="color: rgb(0, 0, 255); background-color: rgb(239, 239, 239); font-weight: bold; font-family: Monaco; font-size: 9pt;">v-model=</span><span style="color: rgb(0, 128, 0); background-color: rgb(239, 239, 239); font-weight: bold; font-family: Monaco; font-size: 9pt;">&quot;</span><span style="font-family: Monaco; font-size: 9pt;"><font color="#BA00FF">code</font></span><span style="color: rgb(0, 128, 0); background-color: rgb(239, 239, 239); font-weight: bold; font-family: Monaco; font-size: 9pt;">&quot;</span> <span style="color: rgb(0, 0, 255); background-color: rgb(239, 239, 239); font-weight: bold; font-family: Monaco; font-size: 9pt;">:state=</span><span style="color: rgb(0, 128, 0); background-color: rgb(239, 239, 239); font-weight: bold; font-family: Monaco; font-size: 9pt;">&quot;</span><span style="font-family: Monaco; font-size: 9pt;"><font color="#FF0000">codeState</font></span><span style="color: rgb(0, 128, 0); background-color: rgb(239, 239, 239); font-weight: bold; font-family: Monaco; font-size: 9pt;">&quot;</span><span style="color: rgb(51, 51, 51); background-color: rgb(239, 239, 239); font-family: Monaco; font-size: 9pt;">&gt;</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="background-color: #efefef; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">&lt;</span><span style="color: #000080; background-color: #efefef; font-weight: bold; font-family: Monaco; font-size: 9pt;">span</span> <span style="color: #0000ff; background-color: #efefef; font-weight: bold; font-family: Monaco; font-size: 9pt;">@click.stop =</span> <span style="color: #008000; background-color: #efefef; font-weight: bold; font-family: Monaco; font-size: 9pt;">&quot;</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">sendCode</span><span style="color: #008000; background-color: #efefef; font-weight: bold; font-family: Monaco; font-size: 9pt;">&quot;</span><span style="background-color: #efefef; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">&gt;</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">{{ codeStr }}</span><span style="background-color: #efefef; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">&lt;/</span><span style="color: #000080; background-color: #efefef; font-weight: bold; font-family: Monaco; font-size: 9pt;">span</span><span style="background-color: #efefef; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">&gt;</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="background-color: #efefef; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">&lt;/</span><span style="color: #000080; background-color: #efefef; font-weight: bold; font-family: Monaco; font-size: 9pt;">mt-field</span><span style="background-color: #efefef; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">&gt;</span></div><div style="font-family: Monaco; font-size: 9pt;"><span style="color: rgb(51, 51, 51); background-color: rgb(239, 239, 239); font-family: Monaco; font-size: 9pt;">&lt;</span><span style="color: rgb(0, 0, 128); background-color: rgb(239, 239, 239); font-weight: bold; font-family: Monaco; font-size: 9pt;">mt-field</span> <span style="color: rgb(0, 0, 255); background-color: rgb(239, 239, 239); font-weight: bold; font-family: Monaco; font-size: 9pt;">:state=</span><span style="color: rgb(0, 128, 0); background-color: rgb(239, 239, 239); font-weight: bold; font-family: Monaco; font-size: 9pt;">&quot;</span><span style="font-family: Monaco; font-size: 9pt;"><font color="#FF0000">passwordState</font></span><span style="color: rgb(0, 128, 0); background-color: rgb(239, 239, 239); font-weight: bold; font-family: Monaco; font-size: 9pt;">&quot;</span> <span style="color: rgb(0, 0, 255); background-color: rgb(239, 239, 239); font-weight: bold; font-family: Monaco; font-size: 9pt;">type=</span><span style="color: rgb(0, 128, 0); background-color: rgb(239, 239, 239); font-weight: bold; font-family: Monaco; font-size: 9pt;">&quot;password&quot;</span> <span style="color: rgb(0, 0, 255); background-color: rgb(239, 239, 239); font-weight: bold; font-family: Monaco; font-size: 9pt;">v-model=</span><span style="color: rgb(0, 128, 0); background-color: rgb(239, 239, 239); font-weight: bold; font-family: Monaco; font-size: 9pt;">&quot;</span><span style="font-family: Monaco; font-size: 9pt;"><font color="#BA00FF">password</font></span><span style="color: rgb(0, 128, 0); background-color: rgb(239, 239, 239); font-weight: bold; font-family: Monaco; font-size: 9pt;">&quot;</span> <span style="color: rgb(0, 0, 255); background-color: rgb(239, 239, 239); font-weight: bold; font-family: Monaco; font-size: 9pt;">placeholder=</span><span style="color: rgb(0, 128, 0); background-color: rgb(239, 239, 239); font-weight: bold; font-family: Monaco; font-size: 9pt;">&quot;密码:不能少于6位&quot;</span><span style="color: rgb(51, 51, 51); background-color: rgb(239, 239, 239); font-family: Monaco; font-size: 9pt;">&gt;&lt;/</span><span style="color: rgb(0, 0, 128); background-color: rgb(239, 239, 239); font-weight: bold; font-family: Monaco; font-size: 9pt;">mt-field</span><span style="color: rgb(51, 51, 51); background-color: rgb(239, 239, 239); font-family: Monaco; font-size: 9pt;">&gt;</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="background-color: #efefef; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">&lt;</span><span style="color: #000080; background-color: #efefef; font-weight: bold; font-family: Monaco; font-size: 9pt;">div</span> <span style="color: #0000ff; background-color: #efefef; font-weight: bold; font-family: Monaco; font-size: 9pt;">class=</span><span style="color: #008000; background-color: #efefef; font-weight: bold; font-family: Monaco; font-size: 9pt;">&quot;registerBtn&quot;</span> <span style="color: #0000ff; background-color: #efefef; font-weight: bold; font-family: Monaco; font-size: 9pt;">@click =</span> <span style="color: #008000; background-color: #efefef; font-weight: bold; font-family: Monaco; font-size: 9pt;">&quot;</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">register</span><span style="color: #008000; background-color: #efefef; font-weight: bold; font-family: Monaco; font-size: 9pt;">&quot;</span><span style="background-color: #efefef; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">&gt;</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">注</span><span style="color: #0000ff; font-weight: bold; font-family: Monaco; font-size: 9pt;">&amp;nbsp;&amp;nbsp;</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">册</span><span style="background-color: #efefef; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">&lt;/</span><span style="color: #000080; background-color: #efefef; font-weight: bold; font-family: Monaco; font-size: 9pt;">div</span><span style="background-color: #efefef; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">&gt;</span></div></div><div><span>    监听数据的变化，验证其有效性----使用watch进行正则验证</span><br/></div><div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">watch</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">: {</span></div><div style="font-family: Monaco;"><span style="font-family: Monaco;"><font color="#BA00FF" style="font-size: 16pt;">phoneNum</font></span> <span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">(newVal, oldVal) {</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">if</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">(tools.</span><span style="color: #7a7a43; font-family: Monaco; font-size: 9pt;">isPoneAvailable</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">(newVal)) {</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">this</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">.</span><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">phoneNumState</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">=</span> <span style="color: #008000; font-weight: bold; font-family: Monaco; font-size: 9pt;">'success'</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">}</span> <span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">else</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">{</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">this</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">.</span><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">phoneNumState</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">=</span> <span style="color: #008000; font-weight: bold; font-family: Monaco; font-size: 9pt;">'error'</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">}</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">if</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">(newVal ==</span> <span style="color: #008000; font-weight: bold; font-family: Monaco; font-size: 9pt;">''</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">) {</span> <span style="color: #808080; font-style: italic; font-family: Monaco; font-size: 9pt;">// 如果输入为空，取消状态显示</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">this</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">.</span><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">phoneNumState</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">=</span> <span style="color: #008000; font-weight: bold; font-family: Monaco; font-size: 9pt;">''</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">}</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">},</span></div><div style="font-family: Monaco;"><span style="font-family: Monaco;"><font color="#BA00FF" style="font-size: 16pt;">password</font></span> <span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">(newVal, oldVal) {</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">if</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">(newVal.</span><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">length</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">&gt;=</span> <span style="color: #0000ff; font-family: Monaco; font-size: 9pt;">6</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">) {</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">this</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">.</span><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">passwordState</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">=</span> <span style="color: #008000; font-weight: bold; font-family: Monaco; font-size: 9pt;">'success'</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">}</span> <span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">else</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">{</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">this</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">.</span><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">passwordState</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">=</span> <span style="color: #008000; font-weight: bold; font-family: Monaco; font-size: 9pt;">'error'</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">}</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">if</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">(newVal ==</span> <span style="color: #008000; font-weight: bold; font-family: Monaco; font-size: 9pt;">''</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">) {</span> <span style="color: #808080; font-style: italic; font-family: Monaco; font-size: 9pt;">// 如果输入为空，取消状态显示</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">this</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">.</span><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">passwordState</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">=</span> <span style="color: #008000; font-weight: bold; font-family: Monaco; font-size: 9pt;">''</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">}</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">},</span></div><div style="font-family: Monaco;"><span style="font-family: Monaco;"><font color="#BA00FF"><font style="font-size: 16pt;">code</font></font></span> <span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">(newVal, oldVal) {</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">if</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">(newVal.</span><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">length</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">==</span> <span style="color: #0000ff; font-family: Monaco; font-size: 9pt;">4</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">&amp;&amp; newVal ==</span> <span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">this</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">.</span><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">admincode</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">) {</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">this</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">.</span><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">codeState</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">=</span> <span style="color: #008000; font-weight: bold; font-family: Monaco; font-size: 9pt;">'success'</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">}</span> <span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">else</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">{</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">this</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">.</span><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">codeState</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">=</span> <span style="color: #008000; font-weight: bold; font-family: Monaco; font-size: 9pt;">'error'</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">}</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">if</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">(newVal ==</span> <span style="color: #008000; font-weight: bold; font-family: Monaco; font-size: 9pt;">''</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">) {</span> <span style="color: #808080; font-style: italic; font-family: Monaco; font-size: 9pt;">// 如果输入为空，取消状态显示</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">this</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">.</span><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">codeState</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">=</span> <span style="color: #008000; font-weight: bold; font-family: Monaco; font-size: 9pt;">''</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">}</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">}</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">}</span></div></div><span>    发送验证码--先验证其是不是已经注册过，注册过直接登录即可，未注册继续执行（倒计时验证）</span><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #7a7a43; font-family: Monaco; font-size: 9pt;">sendCode</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">() {</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">axios.get(tools.</span><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">baseUrl</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">+</span> <span style="color: #008000; font-weight: bold; font-family: Monaco; font-size: 9pt;">'/api/getPhoneCode?phoneNum='</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">+</span> <span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">this</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">.</span><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">phoneNum</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">)</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">.</span><span style="color: #7a7a43; font-family: Monaco; font-size: 9pt;">then</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">((res) =&gt; {</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">console</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">.</span><span style="color: #7a7a43; font-family: Monaco; font-size: 9pt;">log</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">(res.</span><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">data</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">)</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">if</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">(res.</span><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">data</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">.</span><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">state</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">==</span> <span style="color: #0000ff; font-family: Monaco; font-size: 9pt;">0</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">) {</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">this</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">.</span><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">phoneNumState</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">=</span> <span style="color: #008000; font-weight: bold; font-family: Monaco; font-size: 9pt;">'warning'</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">Toast(</span><span style="color: #008000; font-weight: bold; font-family: Monaco; font-size: 9pt;">'该手机号已经注册，请直接登录'</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">)</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">}</span> <span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">else</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">{</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">this</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">.</span><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">admincode</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">= res.</span><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">data</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">.</span><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">code</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">if</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">(</span><span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">this</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">.</span><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">flag</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">) {</span></div><div style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 16pt;"><span style="color: rgb(0, 0, 128); font-weight: bold; font-family: Monaco;">this</span><span style="font-family: Monaco; color: rgb(51, 51, 51);">.</span><span style="color: rgb(122, 122, 67); font-family: Monaco;">startTime</span><span style="font-family: Monaco; color: rgb(51, 51, 51);">(</span><span style="color: rgb(0, 0, 255); font-family: Monaco;">20</span><span style="font-family: Monaco; color: rgb(51, 51, 51);">)</span></font></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">}</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">}</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">})</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">.</span><span style="color: #7a7a43; font-family: Monaco; font-size: 9pt;">catch</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">((err) =&gt; {</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">console</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">.</span><span style="color: #7a7a43; font-family: Monaco; font-size: 9pt;">log</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">(err)</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">})</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">}</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">// <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">（倒计时验证）</span></span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"></div><div style="font-family: Monaco; color: rgb(51, 51, 51);"><div style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 16pt;"><span style="color: rgb(122, 122, 67); font-family: Monaco;">startTime</span> <span style="font-family: Monaco; color: rgb(51, 51, 51);">(time) {</span></font></div><div style="font-size: 9pt; font-family: Monaco; color: rgb(51, 51, 51);"><span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">var</span> <span style="color: #458383; font-family: Monaco; font-size: 9pt;">timer</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">=</span> <span style="color: #7a7a43; font-family: Monaco; font-size: 9pt;">setInterval</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">(() =&gt; {</span></div><div style="font-size: 9pt; font-family: Monaco; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">time--</span></div><div style="font-size: 9pt; font-family: Monaco; color: rgb(51, 51, 51);"><span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">if</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">(time ==</span> <span style="color: #0000ff; font-family: Monaco; font-size: 9pt;">0</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">) {</span></div><div style="font-size: 9pt; font-family: Monaco; color: rgb(51, 51, 51);"><span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">this</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">.</span><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">flag</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">=</span> <span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">true</span></div><div style="font-size: 9pt; font-family: Monaco; color: rgb(51, 51, 51);"><span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">this</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">.</span><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">codeStr</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">=</span> <span style="color: #008000; font-weight: bold; font-family: Monaco; font-size: 9pt;">'发送验证码'</span></div><div style="font-size: 9pt; font-family: Monaco; color: rgb(51, 51, 51);"><span style="color: #7a7a43; font-family: Monaco; font-size: 9pt;">clearInterval</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">(</span><span style="color: #458383; font-family: Monaco; font-size: 9pt;">timer</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">)</span></div><div style="font-size: 9pt; font-family: Monaco; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">}</span> <span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">else</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">{</span></div><div style="font-size: 9pt; font-family: Monaco; color: rgb(51, 51, 51);"><span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">this</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">.</span><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">codeStr</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">= time +</span> <span style="color: #008000; font-weight: bold; font-family: Monaco; font-size: 9pt;">'s后重新发送'</span></div><div style="font-size: 9pt; font-family: Monaco; color: rgb(51, 51, 51);"><span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">this</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">.</span><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">flag</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">=</span> <span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">false</span> <span style="color: #808080; font-style: italic; font-family: Monaco; font-size: 9pt;">// 防止用户连续点击</span></div><div style="font-size: 9pt; font-family: Monaco; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">}</span></div><div style="font-size: 9pt; font-family: Monaco; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">},</span> <span style="color: #0000ff; font-family: Monaco; font-size: 9pt;">1000</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">)</span></div><div style="font-size: 9pt; font-family: Monaco; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">},</span></div><span style="font-size: 9pt; font-family: Monaco; color: rgb(51, 51, 51);"><br/></span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><br/></span></div></div><div><span>    点击注册按钮，先验证其余表单是不是都通过，如果通过，进行注册，未通过，提示信息----注意密码的加密</span></div><div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #7a7a43; font-family: Monaco; font-size: 9pt;">register</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">() {</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">if</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">(</span><span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">this</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">.</span><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">phoneNumState</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">!=</span> <span style="color: #008000; font-weight: bold; font-family: Monaco; font-size: 9pt;">'success'</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">) {</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">Toast(</span><span style="color: #008000; font-weight: bold; font-family: Monaco; font-size: 9pt;">'请确保手机号是正确的'</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">)</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">return</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">}</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">if</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">(</span><span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">this</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">.</span><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">codeState</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">!=</span> <span style="color: #008000; font-weight: bold; font-family: Monaco; font-size: 9pt;">'success'</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">) {</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">Toast(</span><span style="color: #008000; font-weight: bold; font-family: Monaco; font-size: 9pt;">'请确保验证码的正确性'</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">)</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">return</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">}</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">if</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">(</span><span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">this</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">.</span><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">passwordState</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">!=</span> <span style="color: #008000; font-weight: bold; font-family: Monaco; font-size: 9pt;">'success'</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">) {</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">Toast(</span><span style="color: #008000; font-weight: bold; font-family: Monaco; font-size: 9pt;">'请确保密码是有效的'</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">)</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">return</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">}</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #808080; font-style: italic; font-family: Monaco; font-size: 9pt;">// 对密码进行加密</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">this</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">.</span><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">password</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">= md5(</span><span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">this</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">.</span><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">password</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">)</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #808080; font-style: italic; font-family: Monaco; font-size: 9pt;">// 提交数据</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">axios.post(tools.</span><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">baseUrl</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">+</span> <span style="color: #008000; font-weight: bold; font-family: Monaco; font-size: 9pt;">'/api/registerUserAction'</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">, {</span><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">phoneNum</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">:</span> <span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">this</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">.</span><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">phoneNum</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">,</span> <span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">password</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">:</span> <span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">this</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">.</span><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">password</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">})</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">.</span><span style="color: #7a7a43; font-family: Monaco; font-size: 9pt;">then</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">((res) =&gt; {</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">if</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">(res.</span><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">data</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">==</span> <span style="color: #0000ff; font-family: Monaco; font-size: 9pt;">1</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">) {</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">Toast(</span><span style="color: #008000; font-weight: bold; font-family: Monaco; font-size: 9pt;">'注册成功'</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">)</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">this</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">.</span><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">phoneNum</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">=</span> <span style="color: #008000; font-weight: bold; font-family: Monaco; font-size: 9pt;">''</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">this</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">.</span><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">code</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">=</span> <span style="color: #008000; font-weight: bold; font-family: Monaco; font-size: 9pt;">''</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">this</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">.</span><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">password</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">=</span> <span style="color: #008000; font-weight: bold; font-family: Monaco; font-size: 9pt;">''</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">}</span> <span style="color: #000080; font-weight: bold; font-family: Monaco; font-size: 9pt;">else</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">{</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">Toast(</span><span style="color: #008000; font-weight: bold; font-family: Monaco; font-size: 9pt;">'注册失败'</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">)</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">}</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">})</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">},</span></div></div>
登录</div><div><span>    先写表单，标明状态</span><br/></div><div><span><span>    验证输入的正确性-----watch+正则验证</span><br/></span></div><div><span>    点击登录，</span></div><div><span><span>    </span><span>    </span><span>    （</span>先以手机号查询数据库，判断该用户是不是已经注册过，</span>然后检测手机号是不是和密码是匹配的）</div><div><span>    </span><span>    </span><span>    </span><span>    数据库查询手机号和密码是否一致（有手机号，密码不对，没有手机号）</span><br/></div><div><span><br/></span></div><div><span><br/></span></div><div><span><br/></span></div><div><span><br/></span></div><div><span><br/></span></div><div><span><br/></span></div><div><span><br/></span><br/></div><div><span><span>    </span><br/></span></div><div><br/></div></span>
</div></body></html> 