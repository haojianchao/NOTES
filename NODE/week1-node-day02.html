<html>
<head>
  <title>week1-node-day02</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/307027 (zh-CN, DDL); Windows/6.1.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="661"/>
<h1>week1-node-day02</h1>

<div>
<span><div><div><span style="font-size: 12pt;">学习目标</span></div><div><span style="font-size: 12pt;">    1.1 nodejsAPI（url、querysting、http、events、fs、stream）</span></div><div><span style="font-size: 12pt;">    2.1复习课堂知识</span></div><div><span style="font-size: 12pt;">    3.1nodejsAPI（http小爬虫、request方法）</span></div><div><span style="font-size: 12pt;">    3.2 nodejs基础应用（路由、参数接受，async、npm scripts）</span></div><div><span style="font-size: 12pt;">    4.1理解复习第三节课的知识</span></div><div><span style="font-size: 12pt;">    5.1应用http模块编写一个爬虫小工具</span></div><div><span style="font-size: 12pt;">    5.2 后端表单的提交</span></div><div><span style="font-size: 12pt;">   </span></div><div><span style="font-size: 12pt;">课程大纲及其笔记</span></div><div><span style="font-size: 12pt;">    输入node指令进入控制台---交互式解析器/shell终端</span></div><div><span style="font-size: 12pt;">    1.1 nodejsAPI</span></div><div><span style="font-size: 12pt;">        1.1.1 URL模块--网址解析</span></div><div><span style="font-size: 12pt;"><img src="week1-node-day02_files/Image.png" type="image/png" data-filename="Image.png" width="600"/></span></div><div><span style="font-size: 12pt;">            1.1.1.1 </span><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-ligatures: none; font-weight: bold;">url.parse(urlString[, parseQueryString[, slashesDenoteHost]])</span><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-ligatures: none; font-weight: bold;"> </span><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-ligatures: none; font-weight: bold;">    </span></div><ul><li style="box-sizing: border-box; margin-bottom: 0.5rem;"><div><span style="box-sizing: border-box; background-color: rgb(242, 242, 242); border-radius: 2px; font-size: 12pt; color: rgb(4, 4, 4); font-family: Monaco, Consolas, &quot;Lucida Console&quot;, monospace; line-height: 1.5rem;">urlString</span><span style="font-size: 12pt;"> </span><a href="http://nodejs.cn/s/_moz/Data_structures#String_type" style="box-sizing: border-box; border-radius: 2px; font-size: 12pt; color: rgb(67, 133, 61); font-family: Monaco, Consolas, &quot;Lucida Console&quot;, monospace; line-height: 1.5rem;">&lt;string&gt;</a><span style="font-size: 12pt;"> 要解析的 URL 字符串。</span></div></li><li style="box-sizing: border-box; margin-bottom: 0.5rem;"><div><font style="font-size: 12pt;"><span style="box-sizing: border-box; background-color: rgb(242, 242, 242); border-radius: 2px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; color: rgb(4, 4, 4); font-family: Monaco, Consolas, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: none; line-height: 1.5rem;">parseQueryString</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-caps: normal; font-variant-ligatures: none;"> </span><a href="http://nodejs.cn/s/_moz/Data_structures#Boolean_type" style="box-sizing: border-box; border-radius: 2px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-size: 12pt; color: rgb(67, 133, 61); font-family: Monaco, Consolas, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: none; line-height: 1.5rem;">&lt;boolean&gt;</a><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-caps: normal; font-variant-ligatures: none;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-caps: normal; font-variant-ligatures: none;">如果为</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-caps: normal; font-variant-ligatures: none;"> </span><span style="box-sizing: border-box; background-color: rgb(242, 242, 242); border-radius: 2px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; color: rgb(4, 4, 4); font-family: Monaco, Consolas, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: none; line-height: 1.5rem;">true</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-caps: normal; font-variant-ligatures: none;">，则</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-caps: normal; font-variant-ligatures: none;"> </span><span style="box-sizing: border-box; background-color: rgb(242, 242, 242); border-radius: 2px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; color: rgb(4, 4, 4); font-family: Monaco, Consolas, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: none; line-height: 1.5rem;">query</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-caps: normal; font-variant-ligatures: none;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-caps: normal; font-variant-ligatures: none;">属性总会通过</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-caps: normal; font-variant-ligatures: none;"> </span><a href="http://nodejs.cn/s/i23Gdh" style="box-sizing: border-box; border-radius: 2px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; color: rgb(67, 133, 61); font-family: Monaco, Consolas, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: none; line-height: 1.5rem;">querystring</a><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-caps: normal; font-variant-ligatures: none;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-caps: normal; font-variant-ligatures: none;">模块的</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-caps: normal; font-variant-ligatures: none;"> </span><span style="box-sizing: border-box; background-color: rgb(242, 242, 242); border-radius: 2px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; color: rgb(4, 4, 4); font-family: Monaco, Consolas, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: none; line-height: 1.5rem;">parse()</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-caps: normal; font-variant-ligatures: none;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-caps: normal; font-variant-ligatures: none;">方法生成一个对象。默认为false；</span></font></div></li><li style="box-sizing: border-box; margin-bottom: 0.5rem;"><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><font style="font-size: 12pt;"><span style="box-sizing: border-box; background-color: rgb(242, 242, 242); border-radius: 2px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; color: rgb(4, 4, 4); font-family: Monaco, Consolas, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: none; line-height: 1.5rem;">slashesDenoteHost</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-caps: normal; font-variant-ligatures: none;"> </span><a href="http://nodejs.cn/s/_moz/Data_structures#Boolean_type" style="box-sizing: border-box; border-radius: 2px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-size: 12pt; color: rgb(67, 133, 61); font-family: Monaco, Consolas, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: none; line-height: 1.5rem;">&lt;boolean&gt;</a><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-caps: normal; font-variant-ligatures: none;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-caps: normal; font-variant-ligatures: none;">如果为</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-caps: normal; font-variant-ligatures: none;"> </span><span style="box-sizing: border-box; background-color: rgb(242, 242, 242); border-radius: 2px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; color: rgb(4, 4, 4); font-family: Monaco, Consolas, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: none; line-height: 1.5rem;">true</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-caps: normal; font-variant-ligatures: none;">，则</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-caps: normal; font-variant-ligatures: none;"> </span><span style="box-sizing: border-box; background-color: rgb(242, 242, 242); border-radius: 2px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; color: rgb(4, 4, 4); font-family: Monaco, Consolas, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: none; line-height: 1.5rem;">//</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-caps: normal; font-variant-ligatures: none;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-caps: normal; font-variant-ligatures: none;">之后至下一个</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-caps: normal; font-variant-ligatures: none;"> </span><span style="box-sizing: border-box; background-color: rgb(242, 242, 242); border-radius: 2px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; color: rgb(4, 4, 4); font-family: Monaco, Consolas, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: none; line-height: 1.5rem;">/</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-caps: normal; font-variant-ligatures: none;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-caps: normal; font-variant-ligatures: none;">之前的字符串会被解析作为</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-caps: normal; font-variant-ligatures: none;"> </span><span style="box-sizing: border-box; background-color: rgb(242, 242, 242); border-radius: 2px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; color: rgb(4, 4, 4); font-family: Monaco, Consolas, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: none; line-height: 1.5rem;">host</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-caps: normal; font-variant-ligatures: none;">。 例如，</span><span style="box-sizing: border-box; background-color: rgb(242, 242, 242); border-radius: 2px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; color: rgb(4, 4, 4); font-family: Monaco, Consolas, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: none; line-height: 1.5rem;">//foo/bar</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-caps: normal; font-variant-ligatures: none;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-caps: normal; font-variant-ligatures: none;">会被解析为</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-caps: normal; font-variant-ligatures: none;"> </span><span style="box-sizing: border-box; background-color: rgb(242, 242, 242); border-radius: 2px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; color: rgb(4, 4, 4); font-family: Monaco, Consolas, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: none; line-height: 1.5rem;">{host: 'foo', pathname: '/bar'}</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-caps: normal; font-variant-ligatures: none;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-caps: normal; font-variant-ligatures: none;">而不是</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-caps: normal; font-variant-ligatures: none;"> </span><span style="box-sizing: border-box; background-color: rgb(242, 242, 242); border-radius: 2px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; color: rgb(4, 4, 4); font-family: Monaco, Consolas, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: none; line-height: 1.5rem;">{pathname: '//foo/bar'}</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-caps: normal; font-variant-ligatures: none;">。 默认为</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-caps: normal; font-variant-ligatures: none;"> </span><span style="box-sizing: border-box; background-color: rgb(242, 242, 242); border-radius: 2px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; color: rgb(4, 4, 4); font-family: Monaco, Consolas, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: none; line-height: 1.5rem;">false</span></font></span></div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#040404" face="Monaco, Consolas, Lucida Console, monospace" style="font-size: 12pt;">进入交互式解析器，输入node指令</font></div><div><font style="font-family: Monaco, Consolas, &quot;Lucida Console&quot;, monospace; color: rgb(4, 4, 4); font-size: 12pt;"><span style="font-family: Monaco; color: rgb(4, 4, 4);">url.parse('</span><a href="http://www.baidu.com:8000/api/node/url?note=urlparse&amp;course=node#aaa" style="font-family: Monaco; color: rgb(4, 4, 4);">http://www.baidu.com:8000/api/node/url?note=urlparse&amp;course=node#aaa</a><span style="font-family: Monaco; color: rgb(4, 4, 4);">')</span></font></div><div><font style="font-family: Monaco, Consolas, &quot;Lucida Console&quot;, monospace; color: rgb(4, 4, 4); font-size: 12pt;"><span style="font-family: Monaco; color: rgb(4, 4, 4);">url.parse('</span><a href="http://www.baidu.com:8000/api/node/url?note=urlparse&amp;course=node#aaa" style="font-family: Monaco; color: rgb(4, 4, 4);">http://www.baidu.com:8000/api/node/url?note=urlparse&amp;course=node#aaa</a><span style="font-family: Monaco; color: rgb(4, 4, 4);">').query</span>    </font></div><div><font style="font-size: 12pt;"><span style="font-family: Monaco; color: rgb(4, 4, 4);">url.parse('</span><a href="http://www.baidu.com:8000/api/node/url?note=urlparse&amp;course=node#aaa" style="font-family: Monaco; color: rgb(4, 4, 4);">http://www.baidu.com:8000/api/node/url?note=urlparse&amp;course=node#aaa</a><span style="font-family: Monaco; color: rgb(4, 4, 4);">', true)</span></font></div><div><font style="font-size: 12pt;"><span style="font-family: Monaco; color: rgb(4, 4, 4);">url.parse('</span><a href="http://www.baidu.com:8000/api/node/url?note=urlparse&amp;course=node#aaa" style="font-family: Monaco; color: rgb(4, 4, 4);">http://www.baidu.com:8000/api/node/url?note=urlparse&amp;course=node#aaa</a><span style="font-family: Monaco; color: rgb(4, 4, 4);">', true)<span style="font-family: Monaco; color: rgb(4, 4, 4);">.query</span><span style="font-family: Monaco; color: rgb(4, 4, 4);">  </span></span></font></div><div><font style="font-size: 12pt;"><span style="font-family: Monaco; color: rgb(4, 4, 4);">url.parse('</span><a href="http://www.baidu.com:8000/api/node/url?note=urlparse&amp;course=node#aaa" style="font-family: Monaco; color: rgb(4, 4, 4);">http://www.baidu.com:8000/api/node/url?note=urlparse&amp;course=node#aaa</a><span style="font-family: Monaco; color: rgb(4, 4, 4);">', true)</span><span style="font-family: Monaco; color: rgb(4, 4, 4);">.query.course</span><span style="font-family: Monaco; color: rgb(4, 4, 4);">  </span></font></div></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(4, 4, 4); font-family: Monaco, Consolas, &quot;Lucida Console&quot;, monospace; font-variant-ligatures: none;">   node 结合 url    </span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">var http = require('http');</font></span></div><div><span style="font-family: Monaco;"><font color="#AD0000" style="font-size: 12pt;">var url = require('url');</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">var fn = ( req, res ) =&gt; {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    </font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    if( req.url !== '/favicon.ico') { //过滤请求</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        </font></span></div><div><font style="font-size: 12pt;"><span style="font-family: Monaco; color: rgb(51, 51, 51);">       </span><span style="font-family: Monaco;"><font color="#AD0000"> console.log( req.url )</font></span></font></div><div><span style="font-family: Monaco;"><font color="#AD0000" style="font-size: 12pt;">        console.log( url.parse( req.url, true ).query )</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    </font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        res.writeHead( 200, {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">            &quot;Content-Type&quot;: &quot;text/html;charset=utf-8&quot;</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        });</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        </font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        res.write('&lt;h1&gt;hello url&lt;/h1&gt;')</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        </font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        res.end();</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        </font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    }</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    </font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">}</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">var server = http.createServer( fn );</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">server.listen(3000);</font></span></div></div><div><br/></div><div><br/></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(4, 4, 4); font-family: Monaco, Consolas, &quot;Lucida Console&quot;, monospace; font-variant-ligatures: none;">        1.1.1.2 </span><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-ligatures: none; font-weight: bold;">url.resolve(from, to)</span></font></div><ul><li style="box-sizing: border-box; margin-bottom: 0.5rem;"><div><span style="box-sizing: border-box; background-color: rgb(242, 242, 242); border-radius: 2px; font-size: 12pt; color: rgb(4, 4, 4); font-family: Monaco, Consolas, &quot;Lucida Console&quot;, monospace; line-height: 1.5rem;">from</span><span style="font-size: 12pt;"> </span><a href="http://nodejs.cn/s/_moz/Data_structures#String_type" style="box-sizing: border-box; border-radius: 2px; font-size: 12pt; color: rgb(67, 133, 61); font-family: Monaco, Consolas, &quot;Lucida Console&quot;, monospace; line-height: 1.5rem;">&lt;string&gt;</a><span style="font-size: 12pt;"> 解析时相对的基本 URL。</span></div></li><li style="box-sizing: border-box; margin-bottom: 0px;"><div><span style="box-sizing: border-box; background-color: rgb(242, 242, 242); border-radius: 2px; font-size: 12pt; color: rgb(4, 4, 4); font-family: Monaco, Consolas, &quot;Lucida Console&quot;, monospace; line-height: 1.5rem;">to</span><span style="font-size: 12pt;"> </span><a href="http://nodejs.cn/s/_moz/Data_structures#String_type" style="box-sizing: border-box; border-radius: 2px; font-size: 12pt; color: rgb(67, 133, 61); font-family: Monaco, Consolas, &quot;Lucida Console&quot;, monospace; line-height: 1.5rem;">&lt;string&gt;</a><span style="font-size: 12pt;"> 要解析的超链接 URL。</span></div></li></ul><div><font style="font-size: 12pt;"><span style="box-sizing: border-box; text-rendering: optimizeLegibility; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(242, 242, 242); border-radius: 2px; font-size: 12pt; color: rgb(4, 4, 4); font-family: Monaco, Consolas, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: none; line-height: 1.5rem;">            url.resolve()</span><span style="box-sizing: border-box; text-rendering: optimizeLegibility; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-caps: normal; font-variant-ligatures: none; line-height: 1.5;"> </span><span style="box-sizing: border-box; text-rendering: optimizeLegibility; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-caps: normal; font-variant-ligatures: none; line-height: 1.5;">方法会以一种 Web 浏览器解析超链接的方式把一个目标 URL 解析成相对于一个基础 URL。</span></font></div><div><span style="box-sizing: border-box; text-rendering: optimizeLegibility; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, Lato, &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, Verdana, Tahoma, sans-serif; font-variant-caps: normal; font-variant-ligatures: none; line-height: 1.5;">            <img src="week1-node-day02_files/Image [1].png" type="image/png" data-filename="Image.png" style="font-family:"/></span></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;"><span style="font-family: Monaco; color: rgb(51, 51, 51);">url.resolve('/one/two/three', 'four')     //</span><span style="font-family: Monaco;"><font color="#AD0000">相对路径</font></span><span style="font-family: Monaco; color: rgb(51, 51, 51);">，只替换最后的</span></font></div><div><span style="font-family: Monaco;"><font color="#328712" style="font-size: 12pt;">//    /one/two/four</font></span></div><div><font style="font-size: 12pt;"><span style="font-family: Monaco; color: rgb(51, 51, 51);">url.resolve('/one/two/three', '/four')   //</span><span style="font-family: Monaco;"><font color="#AD0000">绝对路径</font></span><span style="font-family: Monaco; color: rgb(51, 51, 51);">，一开始就替换</span></font></div><div><font color="#328712" style="font-size: 12pt;">//  /four</font></div></div><div><br/></div><div><span style="font-size: 12pt;">        1.1.2 querystring模块--参数处理</span></div><div><span style="font-size: 12pt;">            </span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">querystring.parse(str[, sep[, eq[, options]]])</font></div><div><font style="font-size: 12pt;">querystring.stringify(obj[, sep[, eq[, options]]])</font></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">querystring.escape(str)</font></span></div><div><font style="font-size: 12pt;">querystring.unescape(str)</font></div></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">//字符串转对象</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">querystring.parse('note=urlparse&amp;course=node')</font></span></div><div><span style="font-family: Monaco;"><font color="#328712" style="font-size: 12pt;">//{ note: 'urlparse', course: 'node' }</font></span></div><div><br/></div><div><span style="font-family: Monaco;"><font color="#000000" style="font-size: 12pt;">//对象转字符串</font></span></div><div><span style="font-family: Monaco;"><font color="#000000" style="font-size: 12pt;">querystring.stringify({ note: 'urlparse', course: 'node' })</font></span></div><div><br/></div><div><span style="font-family: Monaco;"><font style="font-size: 12pt;">querystring.escape('李富平')   //编码-----通用性</font></span></div><div><span style="font-family: Monaco;"><font style="font-size: 12pt;"><font color="#328712">'%E6%9D%8E%E5%AF%8C%E5%B9%B3</font>'</font></span></div><div><br/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">querystring.unescape('%E6%9D%8E%E5%AF%8C%E5%B9%B3') //解码</font></span></div><div><span style="font-family: Monaco;"><font color="#328712" style="font-size: 12pt;">'李富平'</font></span></div><div><br/></div></div><div><span style="font-size: 12pt;">node 结合querystring + url</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">var http = require('http');</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">var url = require('url');</font></span></div><div><span style="font-family: Monaco;"><font color="#AD0000" style="font-size: 12pt;">var querystring = require('querystring');</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">var fn = ( req, res ) =&gt; {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    </font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    if( req.url !== '/favicon.ico') {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        </font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        console.log( req.url )</font></span></div><div><font style="font-size: 12pt;"><span style="font-family: Monaco; color: rgb(51, 51, 51);">       </span><span style="font-family: Monaco;"><font color="#AD0000"> console.log( querystring.parse( url.parse( req.url ).query ) )</font></span></font></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    </font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        res.writeHead( 200, {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">            &quot;Content-Type&quot;: &quot;text/html;charset=utf-8&quot;</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        });</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        </font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        res.write('&lt;h1&gt;hello url&lt;/h1&gt;')</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        </font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        res.end();</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        </font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    }</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    </font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">}</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">var server = http.createServer( fn );</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">server.listen(3000);</font></span></div></div><div><br/></div><div><span style="font-size: 12pt;">        1.1.3 http 概要模块</span></div><div><br/></div><div><br/></div><div><span style="font-size: 12pt;">        1.1.4 事件events模块</span></div><div><span style="font-size: 12pt;">            使用事件：EventEmitter</span></div><div><span style="font-size: 12pt;">            事件的参数</span></div><div><span style="font-size: 12pt;">            执行一个的事件监听器  on</span></div><div><span style="font-size: 12pt;">            触发 emit</span></div><div><span style="font-size: 12pt;">    </span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">var EventEmitter = require('events');</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">class Player extends EventEmitter {}</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">//EventEmitter 父级有on和emit方法，子类继承</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">var player = new Player();</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">player.on(&quot;test&quot;, ( params ) =&gt; {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    console.log(params)</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">})</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">player.emit('test', 'hello events');</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">player.emit('test', 'hello node');</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">player.emit('test', 'hello h5');</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div></div><div><br/></div><div><br/></div><div><span style="font-size: 12pt;">        1.1.5 文件fs模块</span></div><div><span style="font-size: 12pt;">              得到文件与目录的信息：stat</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">var fs = require('fs');</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><font style="font-size: 12pt;"><span style="font-family: Monaco; color: rgb(51, 51, 51);">fs.stat(</span> <span style="font-family: Monaco;"><font color="#AD0000">'./../fs',</font></span> <span style="font-family: Monaco; color: rgb(51, 51, 51);">( err, result ) =&gt; {</span></font></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    if ( err ) {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        console.log( err );</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    } else {</font></span></div><div><font style="font-size: 12pt;"><span style="font-family: Monaco; color: rgb(51, 51, 51);">       </span><span style="font-family: Monaco;"><font color="#AD0000"> console.log( result.isDirectory() )</font></span></font></div><div><span style="font-family: Monaco;"><font color="#AD0000" style="font-size: 12pt;">        console.log( result.isFile() )</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    }</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">})</font></span></div></div><div><br/></div><div><span style="font-size: 12pt;">              创建一个目录：mkdir，如果是同步创建目录  mkdirSync</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">var fs = require('fs');</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">fs.mkdir('dist', ( err ) =&gt; {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    if ( err ) throw err;   //抛出异常的一种方式</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    console.log(&quot;mkdir success!&quot;);</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">})</font></span></div></div><div><span style="font-size: 12pt;">            </span></div><div><span style="font-size: 12pt;">              创建文件并写入内容：writeFile,appendFile   同步writeFileSync</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">var fs = require('fs');</font></span></div><div><br style="font-family: Monaco;"/></div><div><font color="#EB0073" style="font-size: 12pt;">//有则替换，无则创建并且写入</font></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">fs.writeFile('./test.txt', '坐在最前面，还敢点瞌睡', ( err ) =&gt; {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    if ( err ) throw err;</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    console.log(&quot;writeFile success!&quot;);</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">})</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><font color="#EB0073" style="font-size: 12pt;">//有则追加，无则没有</font></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">fs.appendFile('./test.txt', '谁给你的勇气', ( err ) =&gt; {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    if ( err ) throw err;</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    console.log(&quot;appendFile success!&quot;);</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">})</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div></div><div><br/></div><div><span style="font-size: 12pt;">              读取文件的内容：readFile   同步readFileSync</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">var fs = require('fs');</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">// fs.readFile( './test.txt', ( err, data ) =&gt; {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">//     if ( err ) throw err;</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">//     console.log( data.toString() ) // data为Bufferr类型，需转换为字符串类型</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">// })</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">//指定返回的编码，data则为字符串</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">fs.readFile( './test.txt', 'utf-8', ( err, data ) =&gt; {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    if ( err ) throw err;</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    console.log( data );</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">})</font></span></div></div><div><br/></div><div><span style="font-size: 12pt;">              列出目录的东西：readdir    同步readdirSync</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">var fs = require('fs');</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">fs.readdir( './../fs',  ( err, data ) =&gt; {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    if ( err ) throw err;</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    console.log( data );</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">})</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div></div><div><br/></div><div><span style="font-size: 12pt;">              重命名目录或文件：rename     同步renameSync</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">var fs = require('fs');</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">fs.rename( 'test.txt', 'test.html', ( err ) =&gt; {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    if ( err ) throw err;</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    console.log( 'rename success' );</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">})</font></span></div></div><div><br/></div><div><span style="font-size: 12pt;">              删除目录与文件：rmdir,unlink  ----- 练习</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><br/></div></div><div><br/></div><div><span style="font-size: 12pt;">        1.1.6 stream流模块</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">var fs = require('fs');</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><font style="font-size: 12pt;"><span style="font-family: Monaco;"><font color="#AD0000">fs.readFil</font></span><span style="font-family: Monaco; color: rgb(51, 51, 51);">e( './test.html', 'utf-8', ( err, data ) =&gt; {</span></font></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    if ( err ) throw err;</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    console.log( data );</font></span></div><div><font style="font-size: 12pt;"><span style="font-family: Monaco; color: rgb(51, 51, 51);">    </span><span style="font-family: Monaco;"><font color="#AD0000">fs.writeFile</font></span><span style="font-family: Monaco; color: rgb(51, 51, 51);">('./test.txt', data, ( err ) =&gt; {</span></font></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        if ( err ) throw err;</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        console.log(&quot;writeFile success!&quot;);</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    })</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">})</font></span></div></div><div><span style="font-size: 12pt;">              读取文件流</span></div><div><span style="font-size: 12pt;">              可读流的事件</span></div><div><span style="font-size: 12pt;">              可写的文件流</span></div><div><span style="font-size: 12pt;">              pipe    -------   上一级的输出直接作为下一级的输入</span></div><div><span style="font-size: 12pt;">              链式使用 pipe</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">var fs = require('fs');</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">var readStream = fs.createReadStream('./test.html');</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">var writeStream = fs.createWriteStream('./note.txt');</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">readStream.pipe(writeStream);</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div></div><div><br/></div><div><br/></div><div><br/></div><div><span style="font-size: 12pt;">    2.1 复习课堂知识及其案例</span></div><div><br/></div><div><span style="font-size: 12pt;">    3.1 nodejsAPI</span></div><div><span style="font-size: 12pt;">        3.1.1 http小爬虫  ---- 静态资源文件  ---  如果要处理数据，需要添加一个类似于jquery的node的第三方模块cheerio</span></div><div><span style="font-size: 12pt;">    </span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;"><span style="font-size: 12pt; font-family: Monaco; color: rgb(51, 51, 51);"><span style="font-size: 12pt; font-family: Monaco; color: rgb(51, 51, 51);">http小爬虫  ---- 静态资源文件  ---  如果要处理数据，需要添加一个类似于jquery的node的第三方模块</span>：</span>cnpm i cheerio -D</font></div><div><br/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">const https = require('https');</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">const cheerio = require('cheerio');</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><font style="font-size: 12pt;"><span style="font-family: Monaco; color: rgb(51, 51, 51);">const lagouUrl = &quot;</span><a href="https://www.lagou.com/" style="font-family: Monaco; color: rgb(51, 51, 51);">https://www.lagou.com/</a><span style="font-family: Monaco; color: rgb(51, 51, 51);">&quot;;</span></font></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">function  filterData ( html ) {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    //$(html)</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    var $ = cheerio.load(html);  //得到类似于jquery的$</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    var menus = $('.menu_main'); //得到所有包含class为menu_main的节点</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    console.log( menus.length );</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    //遍历数据</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    var menuList = [];</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">//     menus.each( ( index, item ) =&gt; {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">//         var menuTitle = $(item).find('h2').text().trim();</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">//         // console.log( menuTitle )</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">//         menuList.push( {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">//             menuTitle  //menuTitle: menuTitle   二者写法等价，前提是key和value一致</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">//         })</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">//     });</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    menus.map( (index, item ) =&gt; {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        var menuTitle = $(item).find('h2').text().trim();</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        console.log( menuTitle )</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    });</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    // console.log( menuList );</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">}</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">https.get( lagouUrl, ( res ) =&gt; {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    //console.log(res)</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    //res需要处理， res.on('data', ( val ) =&gt; {})  res.on('end', () =&gt; {}) res.on('error', ( err ) =&gt; {})</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    </font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    var html = &quot;&quot;;</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    </font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    //接收数据</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    res.on('data', ( val ) =&gt; {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        html += val;</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    })</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    //接收数据完成</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    res.on('end', () =&gt; {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        // console.log(html);</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        filterData( html );</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    })</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    //接收数据出错</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    res.on('error', ( err ) =&gt; {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        console.log( err );</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    })</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">})</font></span></div></div><div><span style="font-size: 12pt;">       </span></div><div><span style="font-size: 12pt;">         3.1.2 request方法  </span></div><div><br/></div><div><br/></div><div><span style="font-size: 12pt;">    3.2 nodejs基础应用</span></div><div><span style="font-size: 12pt;">        3.2.1 路由</span></div><div><span style="font-size: 12pt;">          01server.js  --- 简单路由  ----  服务器和路由逻辑在一起，显得不纯洁   ----- </span> <span style="font-size: 12pt; color: rgb(227, 0, 0);">高内聚，低耦合</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;"><font><span style="font-family: Monaco; color: rgb(51, 51, 51);">var http = require('http');</span></font></font></div><div><font style="font-size: 12pt;"><font><span style="font-family: Monaco; color: rgb(51, 51, 51);">var url = require('url');</span></font></font></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><font style="font-size: 12pt;"><font><span style="font-family: Monaco; color: rgb(51, 51, 51);">var fn = ( req, res ) =&gt; {</span></font></font></div><div><font style="font-size: 12pt;"><font><span style="font-family: Monaco; color: rgb(51, 51, 51);">    </span></font></font></div><div><font style="font-size: 12pt;"><font><span style="font-family: Monaco; color: rgb(51, 51, 51);">    if( req.url !== '/favicon.ico' ) {</span></font></font></div><div><font style="font-size: 12pt;"><font><span style="font-family: Monaco; color: rgb(51, 51, 51);">        </span></font></font></div><div><font style="font-size: 12pt;"><font><span style="font-family: Monaco; color: rgb(51, 51, 51);">        res.writeHead( 200, {</span></font></font></div><div><font style="font-size: 12pt;"><font><span style="font-family: Monaco; color: rgb(51, 51, 51);">            'Content-Type': 'text/html;charset=utf-8'</span></font></font></div><div><font style="font-size: 12pt;"><font><span style="font-family: Monaco; color: rgb(51, 51, 51);">        })</span></font></font></div><div><font style="font-size: 12pt;"><font><span style="font-family: Monaco; color: rgb(51, 51, 51);">        </span></font></font></div><div><font style="font-size: 12pt;"><font><span style="font-family: Monaco; color: rgb(51, 51, 51);">        var pathname = url.parse( req.url ).pathname;</span></font></font></div><div><font style="font-size: 12pt;"><font><span style="font-family: Monaco; color: rgb(51, 51, 51);">        </span></font></font></div><div><font style="font-size: 12pt;"><font><span style="font-family: Monaco; color: rgb(51, 51, 51);">        console.log( pathname );</span></font></font></div><div><font style="font-size: 12pt;"><font><span style="font-family: Monaco; color: rgb(51, 51, 51);">        </span></font></font></div><div><font style="font-size: 12pt;"><font><span style="font-family: Monaco; color: rgb(51, 51, 51);">        if( pathname == '/home' ) {</span></font></font></div><div><font style="font-size: 12pt;"><font><span style="font-family: Monaco; color: rgb(51, 51, 51);">            res.write('首页');</span></font></font></div><div><font style="font-size: 12pt;"><font><span style="font-family: Monaco; color: rgb(51, 51, 51);">        } else if( pathname == '/kind' ) {</span></font></font></div><div><font style="font-size: 12pt;"><font><span style="font-family: Monaco; color: rgb(51, 51, 51);">            res.write('分类');</span></font></font></div><div><font style="font-size: 12pt;"><font><span style="font-family: Monaco; color: rgb(51, 51, 51);">        } else if( pathname == '/cart' ) {</span></font></font></div><div><font style="font-size: 12pt;"><font><span style="font-family: Monaco; color: rgb(51, 51, 51);">            res.write('购物车');</span></font></font></div><div><font style="font-size: 12pt;"><font><span style="font-family: Monaco; color: rgb(51, 51, 51);">        } else if( pathname == '/user' ) {</span></font></font></div><div><font style="font-size: 12pt;"><font><span style="font-family: Monaco; color: rgb(51, 51, 51);">            res.write('用户中心');</span></font></font></div><div><font style="font-size: 12pt;"><font><span style="font-family: Monaco; color: rgb(51, 51, 51);">        }</span></font></font></div><div><font style="font-size: 12pt;"><font><span style="font-family: Monaco; color: rgb(51, 51, 51);">        </span></font></font></div><div><font style="font-size: 12pt;"><font><span style="font-family: Monaco; color: rgb(51, 51, 51);">        </span></font></font></div><div><font style="font-size: 12pt;"><font><span style="font-family: Monaco; color: rgb(51, 51, 51);">        res.end();</span></font></font></div><div><font style="font-size: 12pt;"><font><span style="font-family: Monaco; color: rgb(51, 51, 51);">        </span></font></font></div><div><font style="font-size: 12pt;"><font><span style="font-family: Monaco; color: rgb(51, 51, 51);">    }</span></font></font></div><div><font style="font-size: 12pt;"><font><span style="font-family: Monaco; color: rgb(51, 51, 51);">    </span></font></font></div><div><font style="font-size: 12pt;"><font><span style="font-family: Monaco; color: rgb(51, 51, 51);">}</span></font></font></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><font style="font-size: 12pt;"><font><span style="font-family: Monaco; color: rgb(51, 51, 51);">var server = http.createServer( fn );</span></font></font></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><font style="font-size: 12pt;"><font><span style="font-family: Monaco; color: rgb(51, 51, 51);">server.listen( 3000 );</span></font></font></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><font style="font-size: 12pt;"><font><span style="font-family: Monaco; color: rgb(51, 51, 51);">console.log('your server is running at</span> <a href="http://localhost:3000/" style="font-family: Monaco; color: rgb(51, 51, 51);">http://localhost:3000/</a><span style="font-family: Monaco; color: rgb(51, 51, 51);">');</span></font></font></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div></div><div><span style="font-size: 12pt;">        02server.js + 02route.js   ----  一方提供服务器，一方提供路由  ---- 模块化开发</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">//02server.js</font></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">var http = require('http');</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">var url = require('url');</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">var routes = require('./02route.js');</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">var fn = ( req, res ) =&gt; {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    </font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    if( req.url !== '/favicon.ico' ) {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        </font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        res.writeHead( 200, {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">            'Content-Type': 'text/html;charset=utf-8'</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        })</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        </font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        var pathname = url.parse( req.url ).pathname.split('/')[1];</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        </font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        console.log( pathname );</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        </font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        /**</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">         * style.display = &quot;block&quot;   style['display'] = &quot;block&quot;</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">         */</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">//         if( pathname == &quot;home&quot; ){</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">//             routes.home( res );</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">//         }</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        // routes[pathname]( res );  // 如果没有匹配项，则会发生异常，需要异常处理机制 try ... catch</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        </font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        try { //如果存在，则走try路线，如果不存在，则走catch路线</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        </font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">            routes[pathname]( res );</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">            </font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        } catch ( e ) {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">            </font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">            routes.page404( res );</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">            </font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        }</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        </font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        res.end();</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        </font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    }</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    </font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">}</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">var server = http.createServer( fn );</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">server.listen( 3000 );</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><font style="font-size: 12pt;"><span style="font-family: Monaco; color: rgb(51, 51, 51);">console.log('your server is running at</span> <a href="http://localhost:3000/" style="font-family: Monaco; color: rgb(51, 51, 51);">http://localhost:3000/</a><span style="font-family: Monaco; color: rgb(51, 51, 51);">');</span></font></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">02route.js</font></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">var routes = {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    home: ( res ) =&gt; {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        res.write('首页')</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    },</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    kind: ( res ) =&gt; {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        res.write('分类')</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    },</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    cart: ( res ) =&gt; {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        res.write('购物车')</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    },</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    user: ( res ) =&gt; {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        res.write('用户中心')</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    },</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    page404: ( res ) =&gt; { //如果用户不小心输错了网址信息，那么显示404，配合服务器的catch使用</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        res.write('404')</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    }</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">}</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">module.exports = routes;</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div></div><div><span style="font-size: 12pt;">        03server.js + 03route.js + 03readFile.js(模块封装思想)  前后端合作，前端写完页面，后端负责结合路由渲染页面（fs.readFile）</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">03server.js   ----  res.end()不要写在此处  ---- 异步操作</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">var http = require('http');</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">var url = require('url');</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">var routes = require('./03route.js');</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">var fn = ( req, res ) =&gt; {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    </font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    if( req.url !== '/favicon.ico' ) {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        </font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        res.writeHead( 200, {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">            'Content-Type': 'text/html;charset=utf-8'</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        })</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        </font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        var pathname = url.parse( req.url ).pathname.split('/')[1];</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        </font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        console.log( pathname );</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        </font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        try {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        </font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">            routes[pathname]( res );</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">            </font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        } catch ( e ) {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">            </font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">            routes.page404( res );</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">            </font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        }</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        </font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        // res.end();  //读取文件是异步的，此处结束需要放在write之后</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        </font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    }</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    </font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">}</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">var server = http.createServer( fn );</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">server.listen( 3000 );</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><font style="font-size: 12pt;"><span style="font-family: Monaco; color: rgb(51, 51, 51);">console.log('your server is running at</span> <a href="http://localhost:3000/" style="font-family: Monaco; color: rgb(51, 51, 51);">http://localhost:3000/</a><span style="font-family: Monaco; color: rgb(51, 51, 51);">');</span></font></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">03route.js---- 引入读取文件模块，负责调用即可</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">var readFile = require('./03readFile.js');</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">var routes = {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    home: ( res ) =&gt; {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        // res.write('首页')</font></span></div><div><font style="font-size: 12pt;"><span style="font-family: Monaco; color: rgb(51, 51, 51);">       </span><span style="font-family: Monaco;"><font color="#A600C4"> readFile( {</font></span></font></div><div><span style="font-family: Monaco;"><font style="font-size: 12pt;"><font color="#A600C4">          </font><font color="#328712">  path:</font> <font color="#A600C4">&quot;./view/home.html&quot;,</font></font></span></div><div><span style="font-family: Monaco;"><font style="font-size: 12pt;"><font color="#A600C4">            </font><font color="#328712">type</font><font color="#A600C4">: 'utf-8',</font></font></span></div><div><span style="font-family: Monaco;"><font style="font-size: 12pt;"><font color="#A600C4">          </font><font color="#328712">  success:</font> <font color="#A600C4">( data ) =&gt; {</font></font></span></div><div><span style="font-family: Monaco;"><font color="#A600C4" style="font-size: 12pt;">                res.write( data );</font></span></div><div><span style="font-family: Monaco;"><font color="#A600C4" style="font-size: 12pt;">                res.end();</font></span></div><div><span style="font-family: Monaco;"><font color="#A600C4" style="font-size: 12pt;">            }</font></span></div><div><span style="font-family: Monaco;"><font color="#A600C4" style="font-size: 12pt;">        })</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    },</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    kind: ( res ) =&gt; {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        // res.write('分类')</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        readFile( {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">            path: &quot;./view/kind.html&quot;,</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">            type: 'utf-8',</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">            success: ( data ) =&gt; {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">                res.write( data );</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">                res.end();</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">            }</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        })</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    },</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    cart: ( res ) =&gt; {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        // res.write('购物车')</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        readFile( {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">            path: &quot;./view/cart.html&quot;,</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">            type: 'utf-8',</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">            success: ( data ) =&gt; {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">                res.write( data );</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">                res.end();</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">            }</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        })</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    },</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    user: ( res ) =&gt; {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        // res.write('用户中心')</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        readFile( {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">            path: &quot;./view/user.html&quot;,</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">            type: 'utf-8',</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">            success: ( data ) =&gt; {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">                res.write( data );</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">                res.end();</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">            }</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        })</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    },</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    page404: ( res ) =&gt; {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        // res.write('404')</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        readFile( {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">            path: &quot;./view/page404.html&quot;,</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">            type: 'utf-8',</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">            success: ( data ) =&gt; {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">                res.write( data );</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">                res.end();</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">            }</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        })</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    }</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">}</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">module.exports = routes;</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 12pt; font-family: Monaco; color: rgb(51, 51, 51);">03readFile.js  ---- es6 解构赋值     ----  回调函数</span></div><div><span style="font-family: Monaco; font-size: 12pt; color: rgb(51, 51, 51);">var fs = require('fs');</span></div><div><br style="font-family: Monaco; font-size: 12pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 12pt; color: rgb(51, 51, 51);">var readFile = ( config ) =&gt; {</span></div><div><span style="font-family: Monaco; font-size: 12pt; color: rgb(51, 51, 51);">    </span></div><div><span style="font-family: Monaco; font-size: 12pt; color: rgb(51, 51, 51);">    var { path, type, success } = config;  //ES6 解构赋值</span></div><div><span style="font-family: Monaco; font-size: 12pt; color: rgb(51, 51, 51);">    /**</span></div><div><span style="font-family: Monaco; font-size: 12pt; color: rgb(51, 51, 51);">     * var path =  config.path;</span></div><div><span style="font-family: Monaco; font-size: 12pt; color: rgb(51, 51, 51);">        var success = config.success</span></div><div><span style="font-family: Monaco; font-size: 12pt; color: rgb(51, 51, 51);">     */</span></div><div><span style="font-family: Monaco; font-size: 12pt; color: rgb(51, 51, 51);">    </span></div><div><span style="font-family: Monaco; font-size: 12pt; color: rgb(51, 51, 51);">    fs.readFile( path, type, ( err, data ) =&gt; {</span></div><div><span style="font-family: Monaco; font-size: 12pt; color: rgb(51, 51, 51);">        </span></div><div><span style="font-family: Monaco; font-size: 12pt; color: rgb(51, 51, 51);">        if( err ) throw err;</span></div><div><span style="font-family: Monaco; font-size: 12pt; color: rgb(51, 51, 51);">        </span></div><div><span style="font-family: Monaco; font-size: 12pt; color: rgb(51, 51, 51);">        success( data );</span></div><div><span style="font-family: Monaco; font-size: 12pt; color: rgb(51, 51, 51);">        </span></div><div><span style="font-family: Monaco; font-size: 12pt; color: rgb(51, 51, 51);">    });</span></div><div><span style="font-family: Monaco; font-size: 12pt; color: rgb(51, 51, 51);">    </span></div><div><span style="font-family: Monaco; font-size: 12pt; color: rgb(51, 51, 51);">}</span></div><div><br style="font-family: Monaco; font-size: 12pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 12pt; color: rgb(51, 51, 51);">module.exports = readFile;</span></div><div><br style="font-family: Monaco; font-size: 12pt; color: rgb(51, 51, 51);"/></div></div><div><br/></div><div><span style="font-size: 12pt;">        3.2.2 参数接收</span></div><div><span style="font-size: 12pt;">            get    ----  登录</span></div><div><img src="week1-node-day02_files/Image [2].png" type="image/png" data-filename="Image.png" style="font-size: 12pt;"/><img src="week1-node-day02_files/Image [3].png" type="image/png" data-filename="Image.png"/><img src="week1-node-day02_files/Image [4].png" type="image/png" data-filename="Image.png"/></div><div><span style="font-size: 12pt;">            post   ----   注册</span></div><div><span style="font-size: 12pt;">    <img src="week1-node-day02_files/Image [5].png" type="image/png" data-filename="Image.png" style="font-size: 12pt;"/><img src="week1-node-day02_files/Image [6].png" type="image/png" data-filename="Image.png" style="font-size: 12pt;"/><img src="week1-node-day02_files/Image [7].png" type="image/png" data-filename="Image.png" style="font-size: 12pt;"/></span></div><div><span style="font-size: 12pt;">        3.2.3 Async ----   </span><a href="https://cnodejs.org/topic/54acfbb5ce87bace2444cbfb" style="font-size: 12pt;">https://cnodejs.org/topic/54acfbb5ce87bace2444cbfb</a></div><div><span style="font-size: 12pt;">            串行无关联  -----  async.series   ----  时间为所有函数执行的时间之和   ----  4*100接力跑，无需接力棒，4个人不认识</span></div><div><span style="font-size: 12pt;">                数组写法</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">var async = require('async');</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">//串行无关联</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">//数组写法</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">async.series( [</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    function ( cb ) {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        //代码块</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        var a = 1;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        setTimeout( function () {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            cb( null, a );</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        }, 2000)</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    },</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    function ( cb ) {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        //代码块</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        var b = 10;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        setTimeout( function () {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            cb( null, b );</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        }, 3000)</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    }</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">], function ( err, result ) {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">     if ( err ) throw err;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">     console.log( result );   </span><span style="font-family: Monaco; font-size: 9pt;"><font color="#AD0000">///    -----   <span style="font-family: Monaco; font-size: 9pt;">[ 1, 10 ]</span></font></span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    });</span></div></div><div><span style="font-size: 12pt;">                对象写法</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">//对象</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">async.series( {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    one: function ( cb ) {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        //代码块</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        var a = 1;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        setTimeout( function () {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            cb( null, a );</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        }, 2000)</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    },</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    two: function ( cb ) {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        //代码块</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        var b = 10;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        setTimeout( function () {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            cb( null, b );</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        }, 2000)</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    }</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">}, function ( err, result ) {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    if ( err ) throw err;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    console.log( result ); </span> <span style="font-family: Monaco; font-size: 9pt;"><font color="#AD0000">///<span style="font-family: Monaco; font-size: 9pt;">{ one: 1, two: 10 }</span></font></span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">});</span></div></div><div><span style="font-size: 12pt;">            串行有关联   ----- async.waterfall ----  4*100接力跑，下一个人必须拿到接力棒再跑</span></div><div><span style="font-size: 12pt;">                数组写法</span></div><div><span style="font-size: 12pt;">        </span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">var async = require('async');</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">async.waterfall( [</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    function (cb) { //连接数据库</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        var a = 10;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        var b = 5;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        cb( null, a, b );  // 传递数据库对象</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    },</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    function ( params1, params2, cb ) { // 根据数据库对象进行增删改查</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        console.log( params1 )</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        console.log( params2 )</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        cb( null, params1 * params2 ); // 数组中最后一个函数cb只能传递两个参数，一个是null，一个是你要传递的值（字符串、数值、对象...）</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    }</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">], function ( err, result ) {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    if ( err ) throw err;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    console.log( result );</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">})</span></div></div><div><br/></div><div><span style="font-size: 12pt;">            并行无关联   ----- async.parallel   ------  运行时间为请求最长的那个函数的时间</span></div><div><span style="font-size: 12pt;">                数组写法 ---- </span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">var async = require('async');</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">async.parallel( [</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    ( cb ) =&gt; {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        var a = 1;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        setTimeout( function () {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            cb( null, a );</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        }, 2000)</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    },</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    ( cb ) =&gt; {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        var b = 10;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        setTimeout( function () {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            cb( null, b );</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        }, 3000)</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    }</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">], ( err, result ) =&gt; {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    if ( err ) throw err;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    console.log( result );</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">})</span></div></div><div>                对象写法  --<span style="font-size: 12pt;">前端要求只请求一次数据，要你将所有的数据（2种数据）发送给前端</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">async.parallel( {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    'banner': ( cb ) =&gt; {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        var a = 1;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        setTimeout( function () {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            cb( null, a );</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        }, 2000)</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    },</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    'list': ( cb ) =&gt; {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        var b = 10;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        setTimeout( function () {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            cb( null, b );</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        }, 3000)</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    }</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">}, ( err, result ) =&gt; {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    if ( err ) throw err;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    console.log( result );</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">})</span></div></div><div><br/></div><div><span style="font-size: 12pt;">            并行无关联限制个数-- </span> <span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">async.parallelLimit </span><span style="font-size: 12pt;">--如果个数为1，其实就是串行----减少服务器的压力 ---- 提交了并发量</span></div><div><span style="font-size: 12pt;">            </span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">var async = require('async');</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">async.parallelLimit( {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    'banner': ( cb ) =&gt; {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        var a = 1;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        setTimeout( function () {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            cb( null, a );</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        }, 2000)</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    },</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    'list': ( cb ) =&gt; {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        var b = 10;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        setTimeout( function () {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            cb( null, b );</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        }, 3000)</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    }</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">}, 2, ( err, result ) =&gt; {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    if ( err ) throw err;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    console.log( result );</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">})</span></div></div><div><span style="font-size: 12pt;">        3.2.4 npm  scripts</span></div><div><span style="font-size: 12pt;">            可以修改package.json中的scripts中的</span></div><div><span style="font-size: 12pt;">            &quot;build&quot;:&quot;node async.js&quot;</span></div><div><span style="font-size: 12pt;">            命令行执行npm run build</span></div><div><span style="font-size: 12pt;">            使用npm run 可以查看可运行命令</span></div><div><span style="font-size: 12pt;">    4.1 理解复习第三节课讲授的内容</span></div><div><span style="font-size: 12pt;">        </span></div><div><span style="font-size: 12pt;">    5.1 利用http模块编写一个小爬虫工具</span></div><div><span style="font-size: 12pt;">        5.1.1 利用爬虫获取“拉勾网”首页列表数据</span></div><div><span style="font-size: 12pt;">        5.1.2 利用npm安装cheerio模块获取数据</span></div><div><span style="font-size: 12pt;"><img src="week1-node-day02_files/Image [8].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 12pt;">           </span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">[</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        menuTitle: &quot;&quot;,</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">        list: [&quot;&quot;,&quot;&quot;,&quot;&quot;]</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">    }</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">]</font></span></div></div><div><br/></div><div><br/></div><div><span style="font-size: 12pt;">    5.2 后端表单的提交</span></div><div><span style="font-size: 12pt;">        5.2.1 利用request post模拟表单提交</span></div><div><br/></div><div><span style="font-size: 12pt;">        </span></div><div><br/></div><div><br/></div><div><span style="font-size: 12pt;">    6.拓展及其复习</span></div><div><span style="font-size: 12pt;">        1、nodejs中的错误优先回调</span></div><div><span style="font-size: 12pt;">        2、promise的应用---封装ajax（get/post）</span></div><div><span style="font-size: 12pt;">        3、前端性能优化（其中一项就是CDN托管）</span></div><div><span style="font-size: 12pt;">        4、什么情况下不能使用箭头函数</span></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><span style="font-size: 12pt;">        </span></div><div><span style="font-size: 12pt;">        </span></div><div><br/></div></div><div><br/></div></span>
</div></body></html> 