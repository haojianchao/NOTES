<html>
<head>
  <title>01混合开发之  原生+js</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/307027 (zh-CN, DDL); Windows/6.1.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="964"/>
<h1>01混合开发之  原生+js</h1>

<div>
<span><div>一、原生语言：</div><div>    苹果手机：ios系统，由swift和c++/object-c语言编写，后缀名为 ipa（ios开发的安装包的后缀名）<br/></div><div><span>    </span><span>    </span><span>    </span><span>    </span><span>    swift语言是一种开源的语言（半开半闭）</span><br/></div><div>    安卓手机：android系统，由java（android）语言编写，后缀名为apk<br/></div><div><span>    </span><span>    </span><span>    </span><span>    </span><span>    开源的</span><br/></div><div>    wp手机：windowphone系统，由c#语言编写，后缀名分为两类（<span style="white-space: pre-wrap; word-wrap: break-word; min-height: 55px; font-size: 10pt; color: rgb(51, 51, 51); font-family: &quot;PingFang SC&quot;, &quot;Lantinghei SC&quot;, &quot;Microsoft YaHei&quot;, arial, 宋体, sans-serif, tahoma; line-height: 29px;">wp7 wp8的是</span><span style="white-space: pre-wrap; word-wrap: break-word; min-height: 55px;"><span style="font-size: 10pt; font-family: &quot;PingFang SC&quot;, &quot;Lantinghei SC&quot;, &quot;Microsoft YaHei&quot;, arial, 宋体, sans-serif, tahoma; line-height: 29px; color: rgb(255, 0, 0);">xap</span></span> <span style="white-space: pre-wrap; word-wrap: break-word; min-height: 55px; font-size: 10pt; color: rgb(51, 51, 51); font-family: &quot;PingFang SC&quot;, &quot;Lantinghei SC&quot;, &quot;Microsoft YaHei&quot;, arial, 宋体, sans-serif, tahoma; line-height: 29px;">wp8.1以后用8.1的sdk开发的是</span><span style="white-space: pre-wrap; word-wrap: break-word; min-height: 55px;"><span style="font-size: 10pt; font-family: &quot;PingFang SC&quot;, &quot;Lantinghei SC&quot;, &quot;Microsoft YaHei&quot;, arial, 宋体, sans-serif, tahoma; line-height: 29px; color: rgb(255, 0, 0);">appx</span></span> ）</div><div><span>    </span><span>    </span><span>    </span><span>    </span><span>    一般说到混合开发不考虑这个版本</span><br/></div><div>二、混合开发：</div><div>        原生语言+js的开发<br/></div><div>        缘由：<br/></div><div>            js无法调动系统的原生功能（拍照、短信、打电话、通讯录），但是原生（android、ios、wp）可以<br/></div><div>            原生有很大的适配问题（特别是<span style="color: rgb(255, 0, 0);">android</span>），js可以很好的解决这个问题<br/></div><div>            <img src="01混合开发之  原生+js_files/QQ截图20180409091742.png" type="image/png" data-filename="QQ截图20180409091742.png"/><br/></div><div><br/></div><div><br/></div><div>        术语：<br/></div><div>            hybridapp  ----  js+ android/ios写的<br/></div><div>            webapp    m站    touch端项目    手机网站  ---- 纯js写的</div><div>            nativeapp  --  纯android/ios编写的程序<br/></div><div>三、android + js的开发模式</div><div>        准备工具：</div><div>                    android-studio      intellij编辑器插件扩展而来（intellij在13-14年之前特别火爆，直到现在还被很多人青睐）<br/></div><div>                    android手机或者android模拟器<br/></div><div>                    数据线<br/></div><div>四、代码分析</div><div>        <img src="01混合开发之  原生+js_files/Image.png" type="image/png" data-filename="Image.png"/><br/></div><div><img src="01混合开发之  原生+js_files/QQ截图20180409094658.png" type="image/png" data-filename="QQ截图20180409094658.png"/><img src="01混合开发之  原生+js_files/Image [1].png" type="image/png" data-filename="Image.png"/><img src="01混合开发之  原生+js_files/Image [2].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div>代码展示为java文件夹下为控制文件，相当于js文件，res文件相当于资源文件以及布局文件</div><div><br/></div><div><img src="01混合开发之  原生+js_files/Image [3].png" type="image/png" data-filename="Image.png"/><img src="01混合开发之  原生+js_files/Image [4].png" type="image/png" data-filename="Image.png"/><img src="01混合开发之  原生+js_files/Image [5].png" type="image/png" data-filename="Image.png"/></div><div><img src="01混合开发之  原生+js_files/Image [6].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><br/></div><div><br/></div><div><img src="01混合开发之  原生+js_files/Image [7].png" type="image/png" data-filename="Image.png"/><img src="01混合开发之  原生+js_files/Image [8].png" type="image/png" data-filename="Image.png"/><img src="01混合开发之  原生+js_files/Image [9].png" type="image/png" data-filename="Image.png"/></div><div>如需需要给页面添加一个网页</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #808080; font-style: italic; font-family: Monaco; font-size: 9pt;">wv.loadUrl(&quot;file:///android_asset/index.html&quot;);   ///加载本地的页面       ----- 代码在手机，更新需要下载替换</span></div><div style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span style="color: #660e7a; font-weight: bold; font-family: Monaco; font-size: 9pt;">wv</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">.loadUrl(</span><span style="color: #008000; font-weight: bold; font-family: Monaco; font-size: 9pt;">&quot;<a href="https://h5.m.taobao.com/#index">https://h5.m.taobao.com/#index</a>&quot;</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">); /// 加载远程的页面  -----  更新无需下载</span></div></div><div><br/></div><div>默认的webviw浏览器是纯洁的，不支持js<br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">/**</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">         * webView目前还不具备真正浏览器的功能</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">         */</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        webView.getSettings().setJavaScriptEnabled(true);//相当于google浏览器中的内容设置中的js的设置</span></div></div><div>//默认情况下，点击webview中的链接，会使用Android系统自带的浏览器打开这个链接。</div><div>        //如果希望点击链接继续在我们自己的Browser中响应，必须覆盖 webview的WebViewClient对象：</div><div>        //新建两个对象MWebViewClient 和 MWebChromeClient，他们分别继承自WebViewClient和WebChromeClient</div><div>        /*  Android WebView 做为承载网页的载体控件，他在网页显示的过程中会产生一些事件，</div><div>            并回调给我们的应用程序，以便我们在网页加载过程中做应用程序想处理的事情。</div><div>            比如说客户端需要显示网页加载的进度、网页加载发生错误等等事件。</div><div><br/></div><div>            WebView提供两个事件回调类给应用层，分别为WebViewClient,WebChromeClient开发者可以继承这两个类，接手相应事件处理。</div><div><br/></div><div>            WebViewClient 主要提供网页加载各个阶段的通知，比如网页开始加载onPageStarted，网页结束加载onPageFinished等；</div><div>            WebChromeClient主要提供网页加载过程中提供的数据内容，比如返回网页的title,favicon等。*/</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">//处理页面加载各个阶段</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        MWebViewClient mWebViewClient = new MWebViewClient(webView, getApplicationContext());</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        webView.setWebViewClient(mWebViewClient);</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        //提供网页加载过程中提供的数据内容</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        MWebChromeClient mWebChromeClient = new MWebChromeClient( getApplicationContext());</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        webView.setWebChromeClient(mWebChromeClient);</span></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">MWebViewClient.java</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">public class MWebViewClient extends WebViewClient {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">     private WebView webView;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      private Context context;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      public MWebViewClient(WebView webView) {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        super();</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        this.webView = webView;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      }</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      public MWebViewClient(WebView webView, Context context) {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        super();</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        this.webView = webView;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        this.context = context;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      }</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">   </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      @Override</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      public boolean shouldOverrideUrlLoading(WebView view, String url) {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        webView.loadUrl(url);</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        return true;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      }</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      @Override</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      public void onPageStarted(WebView view, String url, Bitmap favicon) {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        super.onPageStarted(view, url, favicon);</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      }</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      @Override</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      public void onPageFinished(WebView view, String url) {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        super.onPageFinished(view, url);</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      }</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">   </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      @Override</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      public void onLoadResource(WebView view, String url) {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        super.onLoadResource(view, url);</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      }</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">  </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      @Override</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      public void onReceivedSslError(WebView view,</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">          SslErrorHandler handler, SslError error) {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        super.onReceivedSslError(view, handler, error);</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      }</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">}</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><br/></span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><br/></span></div></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">MWebChromeClient.java</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><br/></span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">public class MWebChromeClient extends WebChromeClient {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    private Context context;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      public MWebChromeClient(Context context) {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        super();</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        this.context = context;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      }</span></div><div><br/></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      @Override</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      public boolean onJsAlert(WebView view, String url, String message,</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">          JsResult result) {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        return super.onJsAlert(view, url, message, result);</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      }</span></div><div><br/></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      @Override</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      public void onReceivedTitle(WebView view, String title) {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        super.onReceivedTitle(view, title);</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      }</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      @Override</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      public boolean onJsConfirm(WebView view, String url, String message,</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">          JsResult result) {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        return super.onJsConfirm(view, url, message, result);</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      }</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      @Override</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      public boolean onJsPrompt(WebView view, String url, String message,</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">          String defaultValue, JsPromptResult result) {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        return super.onJsPrompt(view, url, message, defaultValue, result);</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      }</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">}</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div></div><div><br/></div><div>假设你现在需要调用系统的拍照功能，android工程师会为你提供一个对象和他对应的方法</div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">WebViewTakePhoto为对象，<span style="font-size: 9pt; color: rgb(255, 0, 0); font-family: Monaco;">takePhoto为拍照的方法，</span></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">webView.addJavascriptInterface(new MJavascriptInterface1(getApplicationContext()), &quot;</span><span style="font-family: Monaco; font-size: 9pt;"><font color="#FF0000">WebViewTakePhoto</font></span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">&quot;);</span></div></div><div><span style="font-size: 12px;"><span style="font-family: Monaco; font-size: 12px; color: rgb(255, 0, 0);">通过这样的形式将地址传递给前端，</span><span style="font-size: 9pt; font-family: Monaco; color: rgb(51, 51, 51);">testParams方法由</span><span style="font-size: 9pt;"><span style="font-family: Monaco; font-size: 9pt; color: rgb(227, 0, 0);">前端</span></span><span style="font-size: 9pt; font-family: Monaco; color: rgb(51, 51, 51);">定义</span></span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;"> webView.loadUrl(&quot;</span><span style="font-size: 9pt; font-family: Monaco;"><font style="color: rgb(255, 0, 0);">javascript</font></span><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">:testParams('</span><a href="http://img4.imgtn.bdimg.com/it/u=103061881" style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">http://img4.imgtn.bdimg.com/it/u=103061881</a><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">,2842093305&amp;fm=26&amp;gp=0.jpg')&quot;);</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">MJavascriptInterface1</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">class MJavascriptInterface1{</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        private Context context;</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        public MJavascriptInterface1(Context context) {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            // TODO Auto-generated constructor stub</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            this.context = context;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        }</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        @JavascriptInterface</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        public void</span> <span style="font-family: Monaco; font-size: 9pt;"><font style="color: rgb(255, 0, 0);">takePhoto()</font></span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">{</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            Toast.makeText(context, &quot;拍照&quot;, Toast.LENGTH_SHORT).show();</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            //android调用拍照功能</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">//            webView.loadUrl(&quot;javascript:testParams('</span><a href="http://img4.imgtn.bdimg.com/it/u=103061881" style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">http://img4.imgtn.bdimg.com/it/u=103061881</a><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">,2842093305&amp;fm=26&amp;gp=0.jpg')&quot;);</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        }</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    }</span></div></div><div>前端调用拍照方法，在自己的写的触发函数中</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>window.<span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">WebViewTakePhoto.<span style="font-family: Monaco; font-size: 9pt; color: rgb(255, 0, 0);">takePhoto()</span></span></div></div><div><br/></div><div>说：</div><div>根据需求先写页面，假设你的一个按钮需要调用系统的功能，在你的按钮事件中调用由android工程师提供的相对应的对象和其方法即可，同时前端也会定义一些方法，但是前端自己不调动，android会根据webview的loadUrl方法进行调用，并且传参（根据需求看）</div><div><br/></div><div>下午：Phonegap混合开发</div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></span>
</div></body></html> 