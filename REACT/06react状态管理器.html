<html>
<head>
  <title>06react状态管理器</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/307027 (zh-CN, DDL); Windows/6.1.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="899"/>
<h1>06react状态管理器</h1>

<div>
<span><div>一、状态管理器</div><div>    组件化开发----组件间通讯----单向的数据流----高内聚、低耦合<br/></div><div>    所有的状态全部统一供应，谁用谁取 ----- 状态管理器<br/></div><div>    flux<br/></div><div>    redux<br/></div><div>    react-redux</div><div>二、flux    </div><div>    <a href="https://www.cnblogs.com/fliu/articles/5245923.html">https://www.cnblogs.com/fliu/articles/5245923.html</a><br/></div><div>     <span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">React 本身只涉及UI层，如果搭建大型应用，必须搭配一个前端框架。</span><br/></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">    Facebook官方使用的是</span><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><a href="https://facebook.github.io/flux/" style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(7, 93, 179); font-family: Verdana, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; text-decoration: underline;">Flux 框架</a><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">。</span></div><div><span style="background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13px; font-variant-caps: normal; font-variant-ligatures: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; -webkit-text-stroke-width: 0px; white-space: normal; widows: 2; word-spacing: 0px;">    </span> <span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">Flux 是一种架构思想，专门解决软件的结构问题。它跟</span><a href="http://www.ruanyifeng.com/blog/2007/11/mvc.html" style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); font-family: Verdana, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; color: rgb(7, 93, 179); text-decoration: underline;">MVC 架构</a><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">是同一类东西，但是更加</span><a href="http://www.infoq.com/news/2014/05/facebook-mvc-flux" style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); font-family: Verdana, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; color: rgb(170, 122, 83); text-decoration: underline;">简单和清晰</a><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">。</span><span style="background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13px; font-variant-caps: normal; font-variant-ligatures: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; -webkit-text-stroke-width: 0px; white-space: normal; widows: 2; word-spacing: 0px;"><br/></span></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><span style="background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13px; font-variant-caps: normal; font-variant-ligatures: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; -webkit-text-stroke-width: 0px; white-space: normal; widows: 2; word-spacing: 0px;">    </span> <span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">Flux将一个应用分成四个部分。</span><span style="background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13px; font-variant-caps: normal; font-variant-ligatures: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; -webkit-text-stroke-width: 0px; white-space: normal; widows: 2; word-spacing: 0px;"><br/></span></span></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">    </span></span></span><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>* View： 视图层</div><div>* Action（动作）：视图层发出的消息（比如mouseClick）</div><div>* Dispatcher（派发器）：用来接收Actions、执行回调函数</div><div>* Store（数据层）：用来存放应用的状态，一旦发生变动，就提醒Views要更新页面</div></div><div><img src="06react状态管理器_files/Image.png" type="image/png" data-filename="Image.png"/><br/></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">Flux 的最大特点，就是数据的&quot;单向流动&quot;。</span></span></span></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div style="color: rgb(0, 0, 0);"></div><div style="color: rgb(0, 0, 0);"><div>1. 用户访问 View</div><div>2. View 发出用户的 Action</div><div>3. Dispatcher 收到 Action，要求 Store 进行相应的更新</div><div>4. Store 更新后，发出一个&quot;change&quot;事件</div><div>5. View 收到&quot;change&quot;事件后，更新页面</div></div><div style="color: rgb(0, 0, 0);">6.左侧可以理解为组件的钩子函数自动触发的一些action</div><div><font color="#000000">7、</font> <span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);">Dispatcher 的作用是将 Action 派发到 Store、。你可以把它看作一个路由器，负责在 View 和 Store 之间，建立 Action 的正确传递路线。注意，</span><span style="font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><font color="#FF0000">Dispatcher 只能有一个，而且是全局的。</font></span></div></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>cnpm i flux -S</div></div><div><br/></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);">二、redux</span></span></span></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><a href="http://www.redux.org.cn/">http://www.redux.org.cn/</a></span></span></span></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><span>    </span> <span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: 0.2px; orphans: 3; text-indent: 0px; text-transform: none; white-space: normal; widows: 3; word-spacing: 0px; -webkit-text-stroke-width: 0px;">Redux 是 JavaScript 状态容器，提供可预测化的状态管理。</span></span></span></span></div><div><div style="orphans: 3; widows: 3;"><font color="#333333" face="Helvetica Neue, Helvetica, Arial, sans-serif"><span style="font-size: 16px; letter-spacing: 0.2px;"><span>    三大原则</span><br/></span></font></div><div style="orphans: 3; widows: 3;"><font color="#333333" face="Helvetica Neue, Helvetica, Arial, sans-serif"><span style="font-size: 16px; letter-spacing: 0.2px;"><span><span>    </span><span>    单一的数据源</span><br/></span></span></font></div><div style="orphans: 3; widows: 3;"><font color="#333333" face="Helvetica Neue, Helvetica, Arial, sans-serif"><span style="font-size: 16px; letter-spacing: 0.2px;"><span><span>    </span><span>    </span><span>    </span> <span style="font-weight: bold; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; -webkit-font-smoothing: antialiased; font-size: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: 0.2px; orphans: 3; text-indent: 0px; text-transform: none; white-space: normal; widows: 3; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">整个应用的</span><span style="font-weight: bold; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; -webkit-font-smoothing: antialiased; font-size: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: 0.2px; orphans: 3; text-indent: 0px; text-transform: none; white-space: normal; widows: 3; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"> </span><a href="http://www.redux.org.cn/docs/Glossary.html#state" style="font-weight: bold; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; -webkit-font-smoothing: antialiased; font-size: 16px; color: rgb(65, 131, 196); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: 0.2px; orphans: 3; text-indent: 0px; text-transform: none; white-space: normal; widows: 3; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); background: 0px 0px;">state</a><span style="font-weight: bold; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; -webkit-font-smoothing: antialiased; font-size: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: 0.2px; orphans: 3; text-indent: 0px; text-transform: none; white-space: normal; widows: 3; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"> </span><span style="font-weight: bold; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; -webkit-font-smoothing: antialiased; font-size: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: 0.2px; orphans: 3; text-indent: 0px; text-transform: none; white-space: normal; widows: 3; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">被储存在一棵 object tree 中，并且这个 object tree 只存在于唯一一个</span><span style="font-weight: bold; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; -webkit-font-smoothing: antialiased; font-size: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: 0.2px; orphans: 3; text-indent: 0px; text-transform: none; white-space: normal; widows: 3; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"> </span><a href="http://www.redux.org.cn/docs/Glossary.html#store" style="font-weight: bold; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; -webkit-font-smoothing: antialiased; font-size: 16px; color: rgb(65, 131, 196); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: 0.2px; orphans: 3; text-indent: 0px; text-transform: none; white-space: normal; widows: 3; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); background: 0px 0px;">store</a><span style="font-weight: bold; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; -webkit-font-smoothing: antialiased; font-size: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: 0.2px; orphans: 3; text-indent: 0px; text-transform: none; white-space: normal; widows: 3; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"> </span><span style="font-weight: bold; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; -webkit-font-smoothing: antialiased; font-size: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: 0.2px; orphans: 3; text-indent: 0px; text-transform: none; white-space: normal; widows: 3; word-spacing: 0px; -webkit-text-stroke-width: 0px;">中</span><br/></span></span></font></div><div style="orphans: 3; widows: 3;"><font color="#333333" face="Helvetica Neue, Helvetica, Arial, sans-serif"><span style="font-size: 16px; letter-spacing: 0.2px;"><span style="font-weight: bold; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; -webkit-font-smoothing: antialiased; font-size: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: 0.2px; orphans: 3; text-indent: 0px; text-transform: none; white-space: normal; widows: 3; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span>    </span><span>    State是只读的</span><br/></span></span></font></div><div style="orphans: 3; widows: 3;"><font color="#333333" face="Helvetica Neue, Helvetica, Arial, sans-serif"><span style="font-size: 16px; letter-spacing: 0.2px;"><span style="font-weight: bold; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; -webkit-font-smoothing: antialiased; font-size: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: 0.2px; orphans: 3; text-indent: 0px; text-transform: none; white-space: normal; widows: 3; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span><span>    </span><span>    </span><span>    </span> <span style="font-weight: bold; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; -webkit-font-smoothing: antialiased; font-size: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: 0.2px; orphans: 3; text-indent: 0px; text-transform: none; white-space: normal; widows: 3; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">唯一改变 state 的方法就是触发</span><span style="font-weight: bold; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; -webkit-font-smoothing: antialiased; font-size: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: 0.2px; orphans: 3; text-indent: 0px; text-transform: none; white-space: normal; widows: 3; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"> </span><a href="http://www.redux.org.cn/docs/Glossary.html#action" style="font-weight: bold; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; -webkit-font-smoothing: antialiased; font-size: 16px; color: rgb(65, 131, 196); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: 0.2px; orphans: 3; text-indent: 0px; text-transform: none; white-space: normal; widows: 3; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); background: 0px 0px;">action</a><span style="font-weight: bold; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; -webkit-font-smoothing: antialiased; font-size: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: 0.2px; orphans: 3; text-indent: 0px; text-transform: none; white-space: normal; widows: 3; word-spacing: 0px; -webkit-text-stroke-width: 0px;">，action 是一个用于描述已发生事件的普通对象</span><br/></span></span></span></font></div><div style="orphans: 3; widows: 3;"><font color="#333333" face="Helvetica Neue, Helvetica, Arial, sans-serif"><span style="font-size: 16px; letter-spacing: 0.2px;"><span style="font-weight: bold; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; -webkit-font-smoothing: antialiased; font-size: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: 0.2px; orphans: 3; text-indent: 0px; text-transform: none; white-space: normal; widows: 3; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-weight: bold; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; -webkit-font-smoothing: antialiased; font-size: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: 0.2px; orphans: 3; text-indent: 0px; text-transform: none; white-space: normal; widows: 3; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span>    </span><span>    使用纯函数执行修改</span><br/></span></span></span></font></div><div style="orphans: 3; widows: 3;"><font color="#333333" face="Helvetica Neue, Helvetica, Arial, sans-serif"><span style="font-size: 16px; letter-spacing: 0.2px;"><span style="font-weight: bold; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; -webkit-font-smoothing: antialiased; font-size: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: 0.2px; orphans: 3; text-indent: 0px; text-transform: none; white-space: normal; widows: 3; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-weight: bold; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; -webkit-font-smoothing: antialiased; font-size: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: 0.2px; orphans: 3; text-indent: 0px; text-transform: none; white-space: normal; widows: 3; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span><span>    </span><span>    </span><span>    </span> <span style="font-weight: bold; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; -webkit-font-smoothing: antialiased; font-size: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: 0.2px; orphans: 3; text-indent: 0px; text-transform: none; white-space: normal; widows: 3; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">为了描述 action 如何改变 state tree ，你需要编写</span><span style="font-weight: bold; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; -webkit-font-smoothing: antialiased; font-size: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: 0.2px; orphans: 3; text-indent: 0px; text-transform: none; white-space: normal; widows: 3; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"> </span><a href="http://www.redux.org.cn/docs/Glossary.html#reducer" style="font-weight: bold; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; -webkit-font-smoothing: antialiased; font-size: 16px; color: rgb(65, 131, 196); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: 0.2px; orphans: 3; text-indent: 0px; text-transform: none; white-space: normal; widows: 3; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); background: 0px 0px;">reducers</a><span style="font-weight: bold; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; -webkit-font-smoothing: antialiased; font-size: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: 0.2px; orphans: 3; text-indent: 0px; text-transform: none; white-space: normal; widows: 3; word-spacing: 0px; -webkit-text-stroke-width: 0px;">。</span><br/></span></span></span></span></font></div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>cnpm i redux -S</div></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><br/></span></div><div><span style="background-color: rgb(254, 254, 242);">目标：todolist     -----   react+redux+bootstrap</span></div><div><span style="background-color: rgb(254, 254, 242);">1、准备</span></div><div><span style="background-color: rgb(254, 254, 242);"><span>    bootstrap</span><br/></span></div><div><span style="background-color: rgb(254, 254, 242);"><span>    index.html引入需要的文件，如果是脚手架生成的项目，那么index.html在public文件夹下</span></span><br/></div><div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="background-color: rgb(254, 254, 242);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">&lt;link href=&quot;</span><a href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css</a><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">&quot; rel=&quot;stylesheet&quot;&gt;</span></span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><br/></span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">&lt;script src=&quot;</span><a href="https://cdn.bootcss.com/jquery/1.11.0/jquery.min.js" style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">https://cdn.bootcss.com/jquery/1.11.0/jquery.min.js</a><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">&quot;&gt;&lt;/script&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">&lt;script src=&quot;</span><a href="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js" style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js</a><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">&quot;&gt;&lt;/script&gt;</span></div></div><br/></div><div><span style="background-color: rgb(254, 254, 242);"><span>2、入口程序  entry.jsx<br/></span></span><span style="min-height: 24pt; font-family: consolas; font-size: 20pt; color: rgb(255, 0, 0);">store.subscribe(render);监听组件状态的变化，如果一旦变化，执行render函数</span><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">import</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">React</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">from</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(36, 140, 133); font-size: 20pt;">'react'</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">;</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">import</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">ReactDOM</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">from</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(36, 140, 133); font-size: 20pt;">'react-dom'</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">;</span></div><div style="min-height: 24pt;"></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">import</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">MyButtonController</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">from</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(36, 140, 133); font-size: 20pt;">'./MyButtonController.jsx'</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">;</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">//import</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">Test</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">from</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(36, 140, 133); font-size: 20pt;">'./Test.jsx'</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">;</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">import</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">store</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">from</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(36, 140, 133); font-size: 20pt;">'./store/index.js'</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">;</span></div><div style="min-height: 24pt;"></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(54, 75, 192); font-size: 20pt;">function</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(219, 120, 0); font-size: 20pt;">render</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">(){</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">  ReactDOM.render(</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">   </span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">&lt;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(35, 105, 182); font-size: 20pt;">MyButtonController</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">/&gt;,</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">   </span> <span style="min-height: 24pt; font-family: consolas; color: rgb(60, 122, 3); font-size: 20pt;">document</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">.getElementById(</span><span style="min-height: 24pt; font-family: consolas; color: rgb(36, 140, 133); font-size: 20pt;">&quot;root&quot;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">)</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">  );</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">}</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">render();</span></div><div style="min-height: 24pt;"></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; font-size: 20pt;"><font style="color: rgb(255, 0, 0);">store.subscribe(render);</font></span></div></div><div><br/></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);">2、<span style="min-height: 24pt; font-family: consolas; color: rgb(35, 105, 182); font-size: 20pt;">MyButtonController.JSX ---- 总体的组件</span></span></div><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><span style="min-height: 24pt; font-family: consolas; color: rgb(35, 105, 182);"><font style="font-size: 12pt;">内部进行封装了一个类似UI库中的组件MyButton,在调用此组件的时候进行设置了很多的属性<br/></font></span></span></div><div><div style="color: rgb(35, 105, 182);"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><font style="font-size: 12pt;"><br/></font></span></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 130px;"></col><col style="width: 294px;"></col><col style="width: 347px;"></col></colgroup><tbody><tr><td style="width: 130px; padding: 8px; border: 1px solid rgb(204, 204, 204);">名称</td><td style="width: 294px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>对应值</div></td><td style="width: 347px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>含义</div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div><font style="color: rgb(62, 75, 83); font-size: 12pt;">flag</font></div></td><td style="width: 294px; padding: 8px; border: 1px solid rgb(204, 204, 204);">this.state.flag</td><td style="width: 347px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>此案例中显示的 是AAA还还是BBB</div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>todolist</div></td><td style="width: 294px; padding: 8px; border: 1px solid rgb(204, 204, 204);">store.getState().todolist</td><td style="width: 347px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>store获取的状态值，值由store提供</div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>getVal</div></td><td style="width: 294px; padding: 8px; border: 1px solid rgb(204, 204, 204);">this.getValHandler</td><td style="width: 347px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>通过传递事件对象event，可以获取内部组件的输入框的值event.target.value</div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>onClick</div></td><td style="width: 294px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>this.addItemHandler</div></td><td style="width: 347px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>添加一个todo的方法，此处可以进行dispatch一个action</div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>onDelfn</div></td><td style="width: 294px; padding: 8px; border: 1px solid rgb(204, 204, 204);">this.delItemHandler</td><td style="width: 347px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>删除某一个todo,函数有一个参数为index</div></td></tr></tbody></table><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><font style="font-size: 12pt;"><font style="color: rgb(255, 0, 0);">如果你的项目中有ajax请求，在请求成功的时候进行dispatch</font></font></span></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">import</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">React, { Component }</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">from</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(36, 140, 133); font-size: 20pt;">'react'</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">;</span></span></div><div style="min-height: 24pt;"></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">import</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">MyButton</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">from</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(36, 140, 133); font-size: 20pt;">'./MyButton.jsx'</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">;</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">import</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">store</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">from</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(36, 140, 133); font-size: 20pt;">'./store/index.js'</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">;</span></div><div style="min-height: 24pt;"></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(54, 75, 192); font-size: 20pt;">class</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(60, 122, 3); font-size: 20pt;">MyButtonController</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">extends</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">Component{</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;"> </span> <span style="min-height: 24pt; font-family: consolas; color: rgb(219, 120, 0); font-size: 20pt;">constructor</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">(props){</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">    super(props)</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">   </span> <span style="min-height: 24pt; font-family: consolas; color: rgb(54, 75, 192); font-size: 20pt;">this</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">.state</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">=</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">{</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">     val:</span><span style="min-height: 24pt; font-family: consolas; color: rgb(36, 140, 133); font-size: 20pt;">&quot;&quot;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">,//用来储存输入框中的值</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">     flag:</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(155, 28, 235); font-size: 20pt;">false //显示AAA还是BBB</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(1, 1, 1); font-size: 20pt;">   </span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">}</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">  }</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">//通过事件对象得到输入框中的值</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;"> </span> <span style="min-height: 24pt; font-family: consolas; color: rgb(219, 120, 0); font-size: 20pt;">getValHandler</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">(</span><span style="min-height: 24pt; font-family: consolas; color: rgb(60, 122, 3); font-size: 20pt;">event</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">){</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">   </span> <span style="min-height: 24pt; font-family: consolas; color: rgb(54, 75, 192); font-size: 20pt;">this</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">.setState({</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">      val:</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(60, 122, 3); font-size: 20pt;">event</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">.target.value</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">    })</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">  }</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">//添加一个TODOitem，派发一个action</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;"> </span> <span style="min-height: 24pt; font-family: consolas; color: rgb(219, 120, 0); font-size: 20pt;">addItemHandler</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">(){</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">   </span> <span style="min-height: 24pt; font-family: consolas; color: rgb(60, 122, 3); font-size: 20pt;">console</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">.log(</span><span style="min-height: 24pt; font-family: consolas; color: rgb(54, 75, 192); font-size: 20pt;">this</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">.state.val)</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">    store.dispatch({</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">      type:</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(36, 140, 133); font-size: 20pt;">&quot;ADD_TODO_ITEM&quot;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">,</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">      data:</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(54, 75, 192); font-size: 20pt;">this</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">.state.val</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">    })</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">  }</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">//删除一个ITEM，派发一个action</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;"> </span> <span style="min-height: 24pt; font-family: consolas; color: rgb(219, 120, 0); font-size: 20pt;">delItemHandler</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">(index){</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">    store.dispatch({</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">      type:</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(36, 140, 133); font-size: 20pt;">&quot;DEL_TODO_ITEM&quot;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">,</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">      data: index</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">    })</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">  }</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;"> </span> <span style="min-height: 24pt; font-family: consolas; color: rgb(219, 120, 0); font-size: 20pt;">render</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">(){</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">   </span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">   </span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">return</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">(</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">      &lt;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(35, 105, 182); font-size: 20pt;">MyButton</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(35, 105, 182); font-size: 20pt;">       </span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">flag</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">=</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">{</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(54, 75, 192); font-size: 20pt;">this</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">.state.flag }</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">       </span> <span style="min-height: 24pt; font-family: consolas; color: rgb(203, 45, 1); font-size: 20pt;">todolist</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">=</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">{ store.getState().todolist }</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">       </span> <span style="min-height: 24pt; font-family: consolas; color: rgb(203, 45, 1); font-size: 20pt;">getVal</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">=</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">{</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(54, 75, 192); font-size: 20pt;">this</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">.getValHandler.bind(</span><span style="min-height: 24pt; font-family: consolas; color: rgb(54, 75, 192); font-size: 20pt;">this</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">)}</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">       </span> <span style="min-height: 24pt; font-family: consolas; color: rgb(203, 45, 1); font-size: 20pt;">onClick</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">=</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">{</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(54, 75, 192); font-size: 20pt;">this</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">.addItemHandler.bind(</span><span style="min-height: 24pt; font-family: consolas; color: rgb(54, 75, 192); font-size: 20pt;">this</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">) }</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">       </span> <span style="min-height: 24pt; font-family: consolas; color: rgb(203, 45, 1); font-size: 20pt;">onDelfn</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">=</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">{</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(54, 75, 192); font-size: 20pt;">this</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">.delItemHandler.bind(</span><span style="min-height: 24pt; font-family: consolas; color: rgb(54, 75, 192); font-size: 20pt;">this</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">) }</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">      /&gt;</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">    )</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">  }</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">}</span></div><div style="min-height: 24pt;"></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">export default</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">MyButtonController;</span></div></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><br/></span></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);">3、UI组件----纯组件----无状态的组件 MyButton.jsx</span></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);">com表示的是如果需要以某一个条件判断显示哪一个组件的时候使用</span></div><div><span style="background-color: rgb(254, 254, 242);">給input绑定了一个onChange事件 ，调用的是父组件的属性为<span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">getVal</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83);"><font style="font-size: 12pt;">所对应方法，</font></span></span></div><div><font style="font-family: consolas; color: rgb(62, 75, 83);"><span style="font-size: 16px; background-color: rgb(254, 254, 242);">給添加按钮绑定onClick事件，调用<span style="background-color: rgb(254, 254, 242); font-family: consolas; font-size: 12pt; color: rgb(62, 75, 83);">父组件的属性为<span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">onClick</span></span><span style="background-color: rgb(254, 254, 242); min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 12pt;">所对应方法，</span></span></font></div><div><font style="font-family: consolas;"><span style="font-size: 16px; background-color: rgb(254, 254, 242);"><font color="#3E4B53">給删除按钮绑定</font><span style="color: rgb(62, 75, 83); font-size: 16px; background-color: rgb(254, 254, 242); font-family: consolas;">onClick事件，调用</span><span style="color: rgb(62, 75, 83); font-size: 12pt; background-color: rgb(254, 254, 242); font-family: consolas;">父组件的属性为<span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">onDelfn</span></span><span style="color: rgb(62, 75, 83); font-size: 12pt; background-color: rgb(254, 254, 242); min-height: 24pt; font-family: consolas;">所对应方法，</span><span style="font-size: 12pt; background-color: rgb(254, 254, 242); min-height: 24pt; font-family: consolas;"><font style="color: rgb(255, 0, 0);">注意传递的参数</font></span></span></font></div><div><font style="font-family: consolas;"><span style="font-size: 16px; background-color: rgb(254, 254, 242);">渲染数据使用的是props.todolist</span></font></div><div><hr/><font color="#FF0000" face="consolas"><span style="font-size: 16px; background-color: rgb(254, 254, 242);">不要在纯组件中进行直接调用store中的数据</span></font></div><div><hr/><font color="#FF0000" face="consolas"><span style="font-size: 16px; background-color: rgb(254, 254, 242);"><br/></span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">import</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">React, { Component }</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">from</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(36, 140, 133); font-size: 20pt;">'react'</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">;</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(54, 75, 192); font-size: 20pt;">const</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(219, 120, 0); font-size: 20pt;">MyButton</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">=</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(54, 75, 192); font-size: 20pt;">function</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">(</span><span style="min-height: 24pt; font-family: consolas; color: rgb(165, 120, 0); font-size: 20pt;">props</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">) {</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;"> </span> <span style="min-height: 24pt; font-family: consolas; color: rgb(54, 75, 192); font-size: 20pt;">var</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">com</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">=</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">props.flag</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">?</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">&lt;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(35, 105, 182); font-size: 20pt;">h1</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">&gt;AAA&lt;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(207, 86, 40); font-size: 20pt;">/h1&gt; : &lt;h1&gt;BBB&lt;/h</span><span style="min-height: 24pt; font-family: consolas; color: rgb(155, 28, 235); font-size: 20pt;">1</span><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">&gt;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">;</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;"> </span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">return</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">(</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">    &lt;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(35, 105, 182); font-size: 20pt;">div</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">&gt;</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">    {com}</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">      &lt;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(35, 105, 182); font-size: 20pt;">div</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(203, 45, 1); font-size: 20pt;">className</span><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">=</span><span style="min-height: 24pt; font-family: consolas; color: rgb(36, 140, 133); font-size: 20pt;">&quot;form-group&quot;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">&gt;</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">        &lt;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">label htmlFor</span><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">=</span><span style="min-height: 24pt; font-family: consolas; color: rgb(36, 140, 133); font-size: 20pt;">&quot;username&quot;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">&gt;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">Email address&lt;/label</span><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">&gt;</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">        &lt;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(60, 122, 3); font-size: 20pt;">input</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">type</span><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">=</span><span style="min-height: 24pt; font-family: consolas; color: rgb(36, 140, 133); font-size: 20pt;">&quot;text&quot;</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">onChange</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">=</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">{ props.getVal } className</span><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">=</span><span style="min-height: 24pt; font-family: consolas; color: rgb(36, 140, 133); font-size: 20pt;">&quot;form-control&quot;</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">id</span><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">=</span><span style="min-height: 24pt; font-family: consolas; color: rgb(36, 140, 133); font-size: 20pt;">&quot;username&quot;</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">placeholder</span><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">=</span><span style="min-height: 24pt; font-family: consolas; color: rgb(36, 140, 133); font-size: 20pt;">&quot;用户名&quot;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">/&gt;</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">     </span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">&lt;/div</span><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">&gt;</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">      &lt;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(60, 122, 3); font-size: 20pt;">button</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">onClick</span><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">=</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">{props.onClick}  className</span><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">=</span><span style="min-height: 24pt; font-family: consolas; color: rgb(36, 140, 133); font-size: 20pt;">&quot;btn btn-success&quot;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">&gt;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">添加&lt;/</span><span style="min-height: 24pt; font-family: consolas; color: rgb(60, 122, 3); font-size: 20pt;">button</span><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">&gt;</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">     </span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">{</span><span style="min-height: 24pt; font-family: consolas; color: rgb(149, 163, 171); font-size: 20pt;">/*&lt;!-- ///////////////////////////// --&gt;*/</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">}</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">     </span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">&lt;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">table className</span><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">=</span><span style="min-height: 24pt; font-family: consolas; color: rgb(36, 140, 133); font-size: 20pt;">&quot;table table-bordered&quot;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">&gt;</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">      &lt;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">thead</span><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">&gt;</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">        &lt;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">tr</span><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">&gt;</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">          &lt;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">th className</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">=</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(36, 140, 133); font-size: 20pt;">&quot;text-center&quot;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">&gt;#</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">&lt;/th</span><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">&gt;</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">          &lt;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">th className</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">=</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(36, 140, 133); font-size: 20pt;">&quot;text-center&quot;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">&gt;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">用户名&lt;/th</span><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">&gt;</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">          &lt;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">th className</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">=</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(36, 140, 133); font-size: 20pt;">&quot;text-center&quot;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">&gt;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">操作&lt;/th</span><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">&gt;</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">       </span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">&lt;/tr</span><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">&gt;</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">     </span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">&lt;/thead</span><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">&gt;</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">      &lt;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">tbody</span><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">&gt;</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">       </span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">{</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">          props.todolist.</span><span style="min-height: 24pt; font-family: consolas; color: rgb(60, 122, 3); font-size: 20pt;">map</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">((item, index)</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">=&gt;</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">{</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">           </span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">return</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">(</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">              &lt;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(35, 105, 182); font-size: 20pt;">tr</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(203, 45, 1); font-size: 20pt;">key</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">=</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">{ index }&gt;</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">                &lt;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(35, 105, 182); font-size: 20pt;">th</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(203, 45, 1); font-size: 20pt;">className</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">=</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(36, 140, 133); font-size: 20pt;">&quot;text-center&quot;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">&gt;{ index</span><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">+</span><span style="min-height: 24pt; font-family: consolas; color: rgb(155, 28, 235); font-size: 20pt;">1</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">}&lt;/</span><span style="min-height: 24pt; font-family: consolas; color: rgb(35, 105, 182); font-size: 20pt;">th</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">&gt;</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">                &lt;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(35, 105, 182); font-size: 20pt;">th</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(203, 45, 1); font-size: 20pt;">className</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">=</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(36, 140, 133); font-size: 20pt;">&quot;text-center&quot;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">&gt;{ item }&lt;/</span><span style="min-height: 24pt; font-family: consolas; color: rgb(35, 105, 182); font-size: 20pt;">th</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">&gt;</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">                &lt;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(35, 105, 182); font-size: 20pt;">td</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(203, 45, 1); font-size: 20pt;">className</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">=</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(36, 140, 133); font-size: 20pt;">&quot;text-center&quot;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">&gt;</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">                  &lt;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(35, 105, 182); font-size: 20pt;">button</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(203, 45, 1); font-size: 20pt;">onClick</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">=</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">{ props.onDelfn.bind(</span><span style="min-height: 24pt; font-family: consolas; color: rgb(54, 75, 192); font-size: 20pt;">this</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">, index)}</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(203, 45, 1); font-size: 20pt;">className</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">=</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(36, 140, 133); font-size: 20pt;">&quot;btn btn-xs btn-danger&quot;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">&gt;删除&lt;/</span><span style="min-height: 24pt; font-family: consolas; color: rgb(35, 105, 182); font-size: 20pt;">button</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">&gt;</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">                &lt;/</span><span style="min-height: 24pt; font-family: consolas; color: rgb(35, 105, 182); font-size: 20pt;">td</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">&gt;</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">              &lt;/</span><span style="min-height: 24pt; font-family: consolas; color: rgb(35, 105, 182); font-size: 20pt;">tr</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">&gt;</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">            )</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">          })</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">        }</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">      &lt;/tbody</span><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">&gt;</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">   </span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">&lt;/table</span><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">&gt;</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">   </span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">   </span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">&lt;/div</span><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">&gt;</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;"> </span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">)</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">}</span></div><div style="min-height: 24pt;"></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">export default</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">MyButton;</span></div></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><br/></span></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);">4、store</span></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><span><font color="#3665EE">    </font></span><span><font color="#3665EE">    store<span>    </span></font></span><br/></span></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><span><span>    </span><span>    </span><span>    reducer</span><br/></span></span></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><span><span>    </span><span>    </span><span>    </span><span>    state</span><br/></span></span></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><span><span>    </span><span>    </span><span>    </span><span>    </span><span>    home</span><br/></span></span></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    homebanner.js</span><br/></span></span></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    homelist.js</span><br/></span></span></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><span><span>    </span><span>    </span><span>    </span><span>    </span><span>    kind</span><br/></span></span></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    kindlist.js</span><br/></span></span></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><span><span>    </span><span>    </span><span>    </span><span>    index.js</span><br/></span></span></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><span><span>    </span><span>    </span><span>    </span><span>    todolist.js</span><br/></span></span></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><span><span>    </span><span>    </span><span>    index.js</span><br/></span></span></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><span><span>    store/index.js</span><br/></span></span></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><span>    </span></span><br/></div><div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">import</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">{ createStore }</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">from</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(36, 140, 133); font-size: 20pt;">'redux'</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">;</span></span></div><div style="min-height: 24pt;"></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">import</span> <span style="min-height: 24pt; font-family: consolas; font-size: 20pt;"><font color="#FF0000">reducer</font></span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">from</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(36, 140, 133); font-size: 20pt;">'./</span><span style="min-height: 24pt; font-family: consolas; font-size: 20pt;"><font color="#E30000">reducer/index.js</font></span><span style="min-height: 24pt; font-family: consolas; color: rgb(36, 140, 133); font-size: 20pt;">'</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">;</span></div><div style="min-height: 24pt;"></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(149, 163, 171); font-size: 20pt;">//创建了单一的store，reducer只可能有一个</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(54, 75, 192); font-size: 20pt;">const</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">store</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">=</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">createStore(</span><span style="min-height: 24pt; font-family: consolas; font-size: 20pt;"><font color="#FF0000">reducer</font></span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">);</span></div><div style="min-height: 24pt;"></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">export default</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">store;</span></div></div><br/></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><span>store/resucer/index.js</span></span></div><div><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">combineReducers是用来合并reducer的，因为creatstore只能有一个reducer，但是一个reducer又只对应一个状态</span></div><div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">import</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">{ combineReducers }</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">from</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(36, 140, 133); font-size: 20pt;">'redux'</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">;</span></span></div><div style="min-height: 24pt;"></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">import</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">homebanner</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">from</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(36, 140, 133); font-size: 20pt;">'./state/home/homebanner.js'</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">;</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(149, 163, 171); font-size: 20pt;">//import homelist from './state/home/homelist.js';</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">import</span> <span style="min-height: 24pt; font-family: consolas; font-size: 20pt;"><font color="#FF0000">todolist</font></span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">from</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(36, 140, 133); font-size: 20pt;">'./state/</span><span style="min-height: 24pt; font-family: consolas; font-size: 20pt;"><font color="#FF0000">todolist.js</font></span><span style="min-height: 24pt; font-family: consolas; color: rgb(36, 140, 133); font-size: 20pt;">'</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">;</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(54, 75, 192); font-size: 20pt;">const</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">reducer</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">=</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">combineReducers({</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;"> </span> <span style="min-height: 24pt; font-family: consolas; color: rgb(149, 163, 171); font-size: 20pt;">//各个组件中各自的状态</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(1, 1, 1); font-size: 20pt;"> </span> <span style="min-height: 24pt; font-family: consolas; color: rgb(149, 163, 171); font-size: 20pt;">//获取值  store.getState().homebanner</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(1, 1, 1); font-size: 20pt;"> </span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">homebanner,</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;"> </span> <span style="min-height: 24pt; font-family: consolas; font-size: 20pt;"><font color="#FF0000">todolist</font></span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(149, 163, 171); font-size: 20pt;">//homelist</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">})</span></div><div style="min-height: 24pt;"></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">export default</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">reducer;</span></div></div><br/></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><span>store/resucer/todolist.js</span></span></div><div><span style="background-color: rgb(254, 254, 242);">单个reducer是一个纯函数，定义了初始状态和action，必须给初始状态赋值，必须有返回值</span></div><div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(54, 75, 192); font-size: 20pt;">const</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">todolist</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">=</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">(state</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">=</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">[], action)</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">=&gt;</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">{</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;"> </span> <span style="min-height: 24pt; font-family: consolas; color: rgb(54, 75, 192); font-size: 20pt;">const</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">{ type, data }</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">=</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">action;</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;"> </span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">switch</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">(type){</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">   </span><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">case</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(36, 140, 133); font-size: 20pt;">&quot;ADD_TODO_ITEM&quot;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">:</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">    </span> <font color="#FF0000"><span style="min-height: 24pt; font-family: consolas; font-size: 20pt;">return</span> <span style="min-height: 24pt; font-family: consolas; font-size: 20pt;">[...state, data];</span></font></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">      </span><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">break</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">;</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">   </span><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">case</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(36, 140, 133); font-size: 20pt;">&quot;DEL_TODO_ITEM&quot;</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">:</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">      state.splice(data,</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(155, 28, 235); font-size: 20pt;">1</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">);</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">     </span> <font color="#FF0000"><span style="min-height: 24pt; font-family: consolas; font-size: 20pt;">return</span> <span style="min-height: 24pt; font-family: consolas; font-size: 20pt;">state;</span></font></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">     </span> <span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">break</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">;</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">   </span><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">default</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">:</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">    </span> <font color="#FF0000"><span style="min-height: 24pt; font-family: consolas; font-size: 20pt;">return</span> <span style="min-height: 24pt; font-family: consolas; font-size: 20pt;">state;</span></font></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">      </span><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">break</span><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">;</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">  }</span></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">}</span></div><div style="min-height: 24pt;"></div><div style="min-height: 24pt;"><span style="min-height: 24pt; font-family: consolas; color: rgb(87, 121, 9); font-size: 20pt;">export default</span> <span style="min-height: 24pt; font-family: consolas; color: rgb(62, 75, 83); font-size: 20pt;">todolist;</span></div></div><br/></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><span><br/></span></span><br/></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><span><br/></span></span></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><br/></span></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><br/></span></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><br/></span></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><br/></span></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><br/></span></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><br/></span></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242);"><br/></span></div></span>
</div></body></html> 